### ✍️ Tangxt ⏳ 2020-09-17 🏷️ Vuex

# 11-Vue 全局数据管理（上）

## ★前言

上节课遗留的问题：改了这个页面的数据，另一个页面没有同步更新这个数据 （**各自为政**）-> 解决办法 -> 全局数据管理！

方方的一个观点（人的主观想法，不一定对）：

![全局数据管理](assets/img/2020-09-21-18-36-57.png)

前端把这个全局数据管理搞得超级复杂，而目前还咩有把这个东西回归到最朴素的状态！ -> 为啥咩有回归？ -> 因为前端还咩有搞清楚全局数据管理到底是什么！

➹：[在 2016 年学 JavaScript 是一种什么样的体验？ - 知乎](https://zhuanlan.zhihu.com/p/22782487)

## ★再次封装 recordListModel

1）提取 data

任何操作表的 `data` 都交给`recordListModel`来做 -> 之后的统计页面拿数据也方便！

代码：[Demo](https://github.com/ppambler/vue-morney/commit/407511195faeecbb015677ba9df18c79272a47e2)

2）封装 create

> 叫`createItem`比较好听！ 

代码：[Demo](https://github.com/ppambler/vue-morney/commit/dc88c79e7bbf283201da0dafd46c2c6d613a06f5)

💡：第一次使用`any`类型？

把经常用的`clone`方法封装到`lib`里边的`clone.ts`

![any类型](assets/img/2020-09-21-19-34-54.png)

其它模块文件使用这个`clone`方法，直接`import`一下就好了！

3）小结

把获取数据，新增数据，保存数据的操作都封装到`recordListModel`里边去了！

接下来做一下全局数据管理 -> 解决页面之间数据不同步的问题！

## ★用 window 来容纳数据






