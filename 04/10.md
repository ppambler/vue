### âœï¸ Tangxt â³ 2020-09-06 ğŸ·ï¸ æ ‡ç­¾é¡µã€æ ‡ç­¾ç¼–è¾‘é¡µ

# 10-æ ‡ç­¾é¡µ+æ ‡ç­¾ç¼–è¾‘é¡µ

## â˜…model.js & model.ts

1ï¼‰ä¸ºä»€ä¹ˆè¦ MVC æ€æƒ³é‡æ„ä»£ç ï¼Ÿ

å› ä¸ºç›®å‰çš„ [ä»£ç ](https://github.com/ppambler/vue-morney/blob/a7025fd52629a9637f5b7b8edd1191bb2650319a/src/views/Money.vue)ï¼Œåœ¨æ•°æ®å±‚é¢ä¸Šæ˜¯å¾ˆæ··ä¹±çš„ï¼

æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹é¡µé¢åšä»£ç åˆ†å±‚ -> ç”¨ MVC æ€æƒ³è¿‡æ¥æ -> å…³äºè¿™ä¸ªæ€æƒ³ï¼Œä½ è®°å¾—è¶Šæ¨¡ç³Šè¶Šå¥½ï¼å¦‚ `M` è´Ÿè´£æ•°æ®å±‚ï¼Œ `V` è´Ÿè´£è§†å›¾å±‚ï¼Œ `C` è´Ÿè´£å…¶å®ƒçš„ä¸šåŠ¡é€»è¾‘ï¼

ç›®å‰ä»£ç æœ‰è§†å›¾å±‚ `template` ï¼Œä¹Ÿæœ‰æ§åˆ¶å™¨ï¼ˆä¸€ä¸ªä¸ªæ›´æ–°ç»„ä»¶çŠ¶æ€çš„æ–¹æ³•ï¼‰ï¼Œä½†å”¯ç‹¬å°±æ˜¯å·®äº†ä¸ª `Model` ï¼Œä¸è¿‡ï¼Œå®é™…ä¸Šï¼Œæˆ‘ä»¬çš„ `Money.vue` æ˜¯æœ‰ `Model` å±‚é¢ä¸Šçš„ä»£ç çš„ï¼

å¦‚ï¼š

åˆå§‹åŒ–æ•°æ®ï¼Œä»æ•°æ®åº“é‡Œè¾¹æ‹¿æ•°æ®ï¼š

``` ts
const recordList: Record[] = JSON.parse(
  window.localStorage.getItem("recordList") || "[]"
);
```

ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“é‡Œè¾¹ï¼š

``` js
window.localStorage.setItem("recordList", JSON.stringify(this.recordList));
```

> MVC è¿™ä¸ªæ€æƒ³å¯ä»¥å½±å“ä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆçš„æ•´ä¸ªç”Ÿæ¶¯ï¼Œå› ä¸ºä½ åªè¦å†™ç½‘é¡µï¼Œé‚£ä¹ˆå°±ä¼šç”¨åˆ° MVCï¼Œæ¯•ç«Ÿå®ƒå®åœ¨æ˜¯å¤ªç»å…¸äº†ï¼Œè€Œ**ä½ å†™é¡µé¢ï¼Œä¸å¯èƒ½ä¸ä¼šç”¨åˆ°æ•°æ®**

2ï¼‰ä»£ç å®ç°

> å¦‚ä½•å°è£…ä¸€ä¸ª`model`ï¼Ÿ

æ€è·¯ï¼š

![æ€è·¯](assets/img/2020-09-07-17-32-40.png)

> æˆ‘ä»¬ `push` ä¸€ç¬”è´¦ï¼ˆ `{}` ï¼‰åˆ° `recordList` ï¼ˆ `[]` ç»“æ„çš„è¡¨ï¼‰é‡Œè¾¹ï¼Œ `@Watch` æ˜¯å¯ä»¥ `watch` åˆ° `recordList` çš„å˜åŒ–çš„ï¼

ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/431c200d8168fd1961a982ac82a6f5d3007a755f)

3ï¼‰ä»£ç è§£æ

1ã€æœ¬æ¥çš„åšæ³• `model.js`

åˆ›å»ºäº†ä¸€ä¸ª`model.js` ï¼ˆ`src`è¿™ä¸ªæ ¹ç›®å½•ä¸‹ï¼‰-> æŠŠè·å–æ•°æ®å’Œä¿å­˜æ•°æ®çš„ä»£ç æ‰”è¿›å»ï¼š

![js å§¿åŠ¿çš„ model](assets/img/2020-09-08-13-35-22.png)

æ¥ä¸‹æ¥æˆ‘ä»¬è¦åœ¨ `ts` é‡Œè¾¹å¯¼å…¥ `model.js`ï¼Œå¯æ˜¯ `ts` é‡Œè¾¹çœŸå¾—ç”¨ `js`å—ï¼Ÿ

æµ‹è¯•å‘ç°ï¼Œæˆ‘ä»¬ä¸èƒ½é€šè¿‡ `import`å¯¼å…¥è¿™ä¸ª`model.js`ï¼Œå› ä¸ºè¿™ç§å§¿åŠ¿ä¸`ts`ä¸ç›¸å®¹ï¼

è€Œç”¨äº†`require`è¿™ç§å§¿åŠ¿å´æ˜¯å¯è¡Œçš„ï¼

![require](assets/img/2020-09-08-13-45-25.png)

> `require`ä¸€å¼€å§‹æ˜¯ä¸æ”¯æŒ`export defalut xxx`è¿™ç§`defalut`å§¿åŠ¿çš„ï¼Œä¹‹åä¸ºäº†å…¼å®¹å°±å¯¼å‡ºäº†å¸¦æœ‰`defalut`çš„ï¼

æ‰€ä»¥ï¼Œå¦‚æœä½ åœ¨`require`çš„æ—¶å€™ï¼Œå°±`require('xxx.js').default`è¿™æ ·æï¼

è€Œå‰ç«¯ç•Œé‡Œè¾¹æœ‰ä¸€ä¸ªå¤§ä½¬**å‘¼åå¤§å®¶ä¸è¦ç”¨ `export defalut xxx`**ï¼Œè€Œæ˜¯ç”¨å…·åçš„å§¿åŠ¿ï¼š`export {model}`ï¼ˆå°±æ˜¯å¯¼å…¥åˆ—è¡¨å§¿åŠ¿å•¦ï¼ï¼‰ -> å¼•å…¥çš„æ—¶å€™å°± `require('xxx.js').model`ï¼ˆè¡¨ç¤ºæˆ‘è¦è¿™ä¸ª`xxx`æ–‡ä»¶é‡Œçš„`model`ï¼‰

> å¯ä»¥ç”¨ææ„è¯­æ³•ï¼š`const {model} = require('model.js')`

æ€»ä¹‹ï¼Œä¸ç®¡ä½ ç”¨ `export defalut model` ä¹Ÿå¥½ï¼Œè¿˜æ˜¯ç”¨ `export {model}`ä¹Ÿç½¢ï¼Œéƒ½éšä½ çš„ä¾¿ï¼ -> **ä¸ªäººå»ºè®®ç”¨åä¸€ç§ï¼Œå› ä¸ºè¯­ä¹‰æ€§æ›´å¼ºï¼**

> æˆ‘ä»¬åœ¨`ts`é‡Œè¾¹å¼•å…¥`js` -> ä½¿ç”¨å¯¼å…¥è¿›æ¥çš„`model` -> åœ¨ç”¨ vscode å†™ä»£ç æ—¶æ˜¯æ²¡æœ‰æç¤ºå®ƒæœ‰å“ªäº› API çš„ï¼ï¼ˆwebstorm å¯ä»¥çŒœå‡º`model`çš„ç±»å‹ä¿¡æ¯ï¼‰ -> è¿™å°±æ˜¯ä¸ºå•¥ä¸ç”¨`model.js`è€Œç”¨`model.ts`çš„åŸå› ï¼

å¯¹äº†ï¼Œç”¨äº†è¿™ç§å§¿åŠ¿ï¼Œä½ è¿˜å¾—æµ‹è¯•ä¸€ä¸‹ä½¿ç”¨äº†å¯¼å…¥è¿›æ¥çš„`model`ï¼Œ`Money.vue`æ˜¯å¦æ­£å¸¸è¿è¡Œï¼ï¼ˆ**ä¸€å®šè¦æµ‹è¯•ä»£ç æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œè¿™ä¸€ç‚¹è´¼é‡è¦**ï¼‰

å°ç»“ï¼šä¸æ¨èä½¿ç”¨ JSï¼Œå› ä¸ºè¿™æ˜¯æ‡¦å¤«è¡Œä¸ºï¼Œå½“ç„¶ä¸‡ä¸å¾—å·²ä½ å¯ä»¥è¿™æ ·ï¼

æ¥ä¸‹æ¥çœ‹çœ‹ï¼Œå¦‚ä½•æŠŠ JS æ”¹å†™æˆ TS!

2ã€`model.ts` 

æŠŠ`.js`åç¼€æ”¹å†™æˆ`.ts`åç¼€ -> è¿™ä¸€æ­¥å°±å®Œæˆäº† 99%çš„å·¥ä½œï¼Œå‰©ä¸‹çš„å·¥ä½œå°±æ˜¯ä¸ºå˜é‡åŠ `: ç±»å‹`äº†ï¼

ğŸ¤”ï¼šåŸå…ˆä»£ç çš„å¤±è¯¯

æˆ‘ä»¬ä¹‹å‰å±€éƒ¨å®šä¹‰äº†ä¸€ä¸ª`Record`ç±»å‹ï¼Œä½†è¯¥ç±»å‹æ˜¯ TS é»˜è®¤å°±æœ‰çš„é«˜çº§ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯ä¸èƒ½æŠŠå¤©ç”Ÿè‡ªå¸¦çš„ï¼Œå®šä¹‰æˆè‡ªå·±çš„

æ€»ä¹‹ï¼Œ`Record`å±€éƒ¨å£°æ˜ä½ éšä¾¿æ”¹æ²¡é—®é¢˜ï¼Œä½†å…¨å±€å£°æ˜å°±æœ‰é—®é¢˜äº†ï¼Œæ¯•ç«Ÿ`Record`è¿™ä¸ªåå­—å·²ç»è¢«å ç”¨äº†ï¼ä¸ç„¶å°±ä¼šå†²çª

æ‰€ä»¥æˆ‘ä»¬æ”¹æˆæ˜¯ä¸€ä¸ªä¸å†²çªçš„åå­—å°±å¯ä»¥äº†ï¼Œå¦‚`RecordItem`

> ç”±äºç°åœ¨è¦ç”¨`RecordItem`ï¼Œè€Œä¹‹å‰æˆ‘ä»¬éƒ½æ˜¯ç”¨ `Record`çš„ï¼Œæ‰€ä»¥æœ‰ä»€ä¹ˆå¿«æ·æ–¹å¼èƒ½å¿«é€Ÿè®©`Record`å˜ä¸º`RecordItem`ï¼Ÿ -> ç¼–è¾‘å™¨éƒ½æä¾›äº†ä¸€ä¸ªå«ã€Œé‡æ„ã€çš„åŠŸèƒ½ï¼

ğŸ’¡ï¼šå¦‚ä½•è®©ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹èƒ½åœ¨æ‰€æœ‰æ–‡ä»¶é‡Œè¾¹ä½¿ç”¨ï¼Ÿ

åˆ›å»º`src/custom.d.ts`-> `ts`å‘ç°`.d.ts`è¿™ä¸ªåç¼€æ–‡ä»¶ï¼Œå°±çŸ¥é“è¿™æ˜¯ä¸€ä¸ªå…¨å±€çš„å£°æ˜æ–‡ä»¶

æŠŠéœ€è¦å…¨å±€ä½¿ç”¨çš„ç±»å‹å£°æ˜æ‰”åˆ°è¿™ä¸ªæ–‡ä»¶é‡Œè¾¹â€¦â€¦

![å…¨å±€çš„ç±»å‹å£°æ˜](assets/img/2020-09-08-17-40-14.png)

ä¸€ä¸ªå°æŠ€å·§ï¼š

![æŸ¥çœ‹ç±»å‹å£°æ˜](assets/img/2020-09-08-17-42-54.png)

> ä½ å†™åˆ°æ¯ä¸ª`RecordItem`ç±»å‹éƒ½ä¼šå…³è”åˆ°è¿™ä¸ª`custom.d.ts`æ–‡ä»¶ï¼-> å…³äº`custom`è¿™ä¸ªåå­—ï¼Œä¸æ˜¯å›ºå®šçš„ï¼Œä½ ä¹Ÿå¯ä»¥å«`xxx.d.ts`ï¼Œä½†æ˜¯`custom`è¿™ä¸ªåå­—è¯­ä¹‰æ€§æ›´å¥½ï¼Œè¡¨ç¤ºè¿™æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ç±»å‹ï¼

ğŸ’¡ï¼šç”¨äº†`model.ts`å°±å¯ä»¥ç”¨`import`è¯­æ³•äº†å—ï¼Ÿ

å½“ç„¶å¯ä»¥ï¼š

``` ts
// Money.vue
import model from "@/model";

// model.ts-> å¯ä»¥ä½¿ç”¨é»˜è®¤å¯¼å‡ºäº†ï¼
export default model;
```

å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨æœ‰åå­—çš„å¯¼å‡ºï¼Œä¸è¿‡ï¼Œè¿™å°±éœ€åŠ `{}`äº†ï¼š

``` ts
// Money.vue
import {model} from "@/model";

// model.ts -> or export model -> æ¨èå¸¦ {} å¯¼å‡ºï¼Œå› ä¸ºå¯ä»¥ä¸€çœ¼çœ‹æ¸…æ¥šè¾“å‡ºäº†å“ªäº›å˜é‡ã€‚
export {model};
```

ç®€å•åŒºåˆ†ä¸€ä¸‹é»˜è®¤å¯¼å‡ºå’Œæœ‰åå­—å¯¼å‡ºï¼š

- é»˜è®¤å¯¼å‡º -> `import`æ—¶ä¸éœ€è¦åŠ `{}`
- æœ‰åå­—å¯¼å‡º-> `import`æ—¶éœ€è¦åŠ `{}`ï¼Œè€Œä¸”`{}`é‡Œçš„åå­—è¦ä¸`export`çš„åå­—ä¿æŒä¸€è‡´ï¼

ğŸ’¡ï¼šå¦‚ä½•ç¡®å®š`fetch`çš„è¿”å›å€¼ç±»å‹ï¼Ÿæˆ–è€…è¯´æ•´ä¸ª`model.ts`é‡Œè¾¹çš„ç±»å‹ï¼Ÿ

![ç¡®å®šç±»å‹](assets/img/2020-09-08-18-25-38.png)

éšä¾¿æä¸ª `x` å˜é‡ï¼Œå°±èƒ½å¾—å‡ºä¸€ä¸ªä¸ªå¾ˆé•¿çš„ä»£ç çš„è¿”å›å€¼ç±»å‹äº†ï¼

å¯ä»¥çœ‹åˆ°è¿™æ˜¯ä¸€ä¸ª`any`ç±»å‹

æœ‰ä¸¤ç§å§¿åŠ¿å¯ä»¥æ”¹å˜`x`çš„ç±»å‹ï¼š

![å§¿åŠ¿æœ‰ä¸¤ç§](assets/img/2020-09-08-18-33-51.png)

å…³äºå§¿åŠ¿äºŒï¼Œæ³¨æ„ä¸è¦æŠŠç±»å‹å¼ºåˆ¶é”™äº†ï¼ˆå‡ºé”™äº†ï¼Œå°±æ˜¯ä½ æ´»è¯¥ï¼ï¼‰ï¼Œå› ä¸º `tsc` å°±æ˜¯æ ¹æ®ä½ å¼ºåˆ¶å‡ºæ¥çš„ç±»å‹æ¥åˆ¤æ–­`JSON.parse()`è¿”å›å€¼çš„ç±»å‹çš„ï¼

> TS å¾ˆç®€å•ï¼ŒæŠŠç±»å‹è¯´æ¸…æ¥šå°±å®Œäº‹å„¿äº†ï¼-> è¯´ä¸æ¸…æ¥šï¼Œé‚£ä½ å°±ç”¨å› JS å§ï¼

ä¸ºä»€ä¹ˆè¦æŒ‡å®š`model.fetch()`çš„è¿”å›å€¼ç±»å‹ï¼Ÿä¹Ÿå°±æ˜¯ç»™è¿”å›å€¼ä¸€ä¸ª`as xxx`è¿™æ ·çš„æ–­è¨€ï¼Ÿ

![TS è‡ªåŠ¨æ¨æµ‹ç±»å‹](assets/img/2020-09-08-18-39-40.png)

æ–¹ä¾¿äº†æˆ‘ä»¬ä¹‹åä¸ç”¨å†å†™`:RecordItem[]`äº†ï¼Œä¸ç„¶ï¼Œæ¯ä¸ªå˜é‡éƒ½å¾—å†™ä¸€é `:RecordItem[]`â€¦â€¦

> æœ€å¼€å§‹çš„åœ°æ–¹å†™å¯¹äº†ï¼Œé‚£ä¹ˆåè¾¹ç”¨åˆ°äº†å°±ä¼šè‡ªåŠ¨æ¨æµ‹ï¼Œåƒä¸‡ä¸è¦ä¸ºäº†å›¾ä¸ªæ–¹ä¾¿ï¼Œå°±ä¸ç»™`model.fetch()`çš„è¿”å›å€¼ä¸€ä¸ªæ–­è¨€ï¼ˆ`as RecordItem[]`ï¼‰ï¼Œä¸ç„¶ï¼Œä½ æ¯æ¬¡éœ€è¦ç”¨åˆ°`model.fetch()`çš„è¿”å›å€¼ï¼Œéƒ½å¾—åŠ ä¸Š `:RecordItem[]`

ğŸ’¡ï¼šä¸ºå•¥è¦æŠŠ `JSON.parse(JSON.stringify(xxx))` è¿™ä¸ªæ“ä½œä¹Ÿå°è£…åˆ°`model.clone`äº†ï¼Ÿ

å› ä¸ºæä¸ªå‰¯æœ¬å¯¹è±¡è¿™ç§éœ€æ±‚ï¼Œæœ‰å¾ˆå¤šç§å§¿åŠ¿å¯ä»¥åšåˆ°ï¼Œè€Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒæ˜¯ç”¨å“ªç§å§¿åŠ¿åšåˆ°çš„ï¼Œåæ­£ä½ è°ƒç”¨ä¸€ä¸‹`model.clone`èƒ½å®Œæˆè¿™ç§éœ€æ±‚å°±å¯ä»¥äº†ï¼Œè‡³äº`clone`çš„èƒŒåç”¨äº†å•¥ï¼Œä¸€ç‚¹éƒ½ä¸å…³å¿ƒï¼Œæ—¢ç„¶ä¸å…³å¿ƒï¼Œé‚£å°±å°è£…ä¸€ä¸‹â€¦â€¦è¿™æ ·ä»£ç çœ‹èµ·æ¥å°±å¾ˆè¯­ä¹‰åŒ–äº†

![å°è£…çš„æ„ä¹‰](assets/img/2020-09-08-18-54-23.png)

> æ„Ÿè§‰å°è£…å°±æ˜¯ä¸ºäº†è®©æˆ‘ä»¬å†™çš„ä»£ç è¯­ä¹‰æ€§æ›´å¼ºï¼æ›´èƒ½è¯»æ‡‚ä»£ç åœ¨åšä»€ä¹ˆï¼-> ä½ æƒ³æƒ³ `JSON.parse(â€¦â€¦)`å¥½æ‡‚ï¼Œè¿˜æ˜¯`clone()`å¥½æ‡‚ï¼Ÿ-> å°±åƒæ˜¯ä½ å«ã€Œåå­—ã€å¥½æ‡‚äººå®¶å«è°ï¼Œè¿˜æ˜¯å«ã€Œå¤´å‘çŸ­çš„ã€å°çœ¼ç›ã€å¤§å˜´å·´ã€å¥½æ‡‚äººå®¶å«è°ï¼Ÿ

åè¾¹ä¼šæŠŠè¿™ä¸ª`model.ts`ç»™åˆ æ‰ï¼

## â˜…Labels.vue ä¹‹ HTML

1ï¼‰éœ€æ±‚ä¸ä»£ç å®ç°

> çœ‹ç€è®¾è®¡ç¨¿æ€¼å°±è¡Œäº†ï¼

![æ ‡ç­¾é¡µ](assets/img/2020-09-09-11-37-45.png)

æ ‡ç­¾é¡µé‡Œçš„æ¯ä¸ªæ ‡ç­¾éƒ½æ˜¯å¯ä»¥ `click` çš„ï¼Œ`click`ä¹‹åå°±è·³åˆ°æ ‡ç­¾çš„æ ‡ç­¾çš„ã€Œç¼–è¾‘é¡µã€ï¼Œæ³¨æ„ï¼Œæ ‡ç­¾åæ˜¯ä¸å¯ä»¥é‡å¤çš„ï¼ˆæˆ‘ä»¬æ²¡æœ‰ç”¨`id`æ¥åŒºåˆ†æ‰€æœ‰æ ‡ç­¾ï¼‰

ç‚¹å‡»ã€Œæ–°å»ºæ ‡ç­¾ã€`button` -> ä¸ `Money` é¡µé¢çš„ã€Œæ–°å¢æ ‡ç­¾ã€åŠŸèƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼

ç‚¹å‡»ã€Œåˆ é™¤æ ‡ç­¾ã€`button` -> å›åˆ°ã€Œæ ‡ç­¾é¡µã€åˆ—è¡¨

![éœ€æ±‚å›¾ç¤º](assets/img/2020-09-10-12-18-58.png)

ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/e0c061b0de9aa692f2b052d8fa5bde591a8f92e9)

2ï¼‰æ ‡ç­¾é¡µé¢

> å†™ HTML -> å†™ CSS -> å†™ JS

ğŸ’¡ï¼šä¸ºå•¥è¦ç”¨ä¸€ä¸ª`span`æ ‡ç­¾åŒ…è£¹ä¸€ä¸ªæ–‡æœ¬ï¼Ÿ

![span](assets/img/2020-09-10-16-12-32.png)

ğŸ’¡ï¼šé¡µé¢çš„èƒŒæ™¯è‰²å†™åœ¨å“ªå„¿ï¼Ÿ

å†™åœ¨ `body` é‡Œè¾¹ï¼

## â˜…Labels.vue ä¹‹ CSS

1ï¼‰å†™ CSS é¡ºåº

1. æ–‡æœ¬ã€icon -> å­—ä½“å¤§å°
2. æ–‡æœ¬æ‰€å¤„ç›’å­çš„`min-height`ã€`padding`ç­‰ -> æœ‰å…³å¸ƒå±€
3. è¾¹æ¡†ã€iconã€æ–‡æœ¬ -> é¢œè‰²
4. icon -> å¸ƒå±€
5. button -> èƒŒæ™¯è‰²ã€æ–‡æœ¬é¢œè‰²ã€å¸ƒå±€ã€ç›’å­æ¨¡å‹

> å…ƒç´ ä¸Šä¸‹ä¹‹é—´çš„é—´è·ç”¨`padding`ï¼Œå› ä¸º`margin`ä¼šæœ‰å¡Œé™·ï¼Œä¸è¿‡`padding`ä¹Ÿä¼šå½±å“`background`çš„èŒƒå›´â€¦â€¦å½“ç„¶ä¹Ÿå¯ä»¥ç»“åˆèµ·æ¥ä½¿ç”¨ï¼

ğŸ’¡ï¼šä¸€ä¸ªä½ ä½¿ç”¨`scss`ï¼Œä½†ä¸€ç›´è¯¯ä¼šçš„ç‚¹ï¼Ÿ

![scss é€‰æ‹©å™¨](assets/img/2020-09-10-16-36-51.png)

`&`è¿™ä¸ªç¬¦å·çš„ä½œç”¨ï¼Œå¯ä»¥æŠŠåµŒå¥—çš„å†™æ³•ç¼–è¯‘æˆå¹³çº§çš„å†™æ³•ï¼š

``` scss
#main {
  color: black;
  a {
    font-weight: bold;
    &:hover { color: red; }
  }
}
```

ç¼–è¯‘ä¸º

``` css
#main {
  color: black; }
  #main a {
    font-weight: bold; }
    #main a:hover {
      color: red; }
```

å¦‚æœå’©æœ‰`&`ï¼Œé‚£å°±æ˜¯å­˜ç²¹çš„åä»£é€‰æ‹©å™¨äº†ï¼

æ€»ä¹‹ï¼Œ**è¢«åµŒå¥—çš„ä¹Ÿæœ‰å¯èƒ½æ˜¯çˆ¸çˆ¸çº§å…ƒç´ ï¼**

## â˜…æ–°å»ºæ ‡ç­¾åŠŸèƒ½

ğŸ’¡ï¼šæ ‡ç­¾å­˜åœ¨å“ªå„¿ï¼Ÿ

ä¹‹å‰æˆ‘ä»¬ç”¨äº†ä¸€ä¸ª`model`æ¥ä¸“é—¨å­˜å‚¨ä¸€ç¬”è´¦ï¼è€Œç°åœ¨è¦å­˜å‚¨çš„ä¸œè¥¿æ˜¯ã€Œæ ‡ç­¾ã€å‘€ï¼

ä¸ºå•¥è¦å­˜å‚¨æ ‡ç­¾å‘¢ï¼Ÿ

æˆ‘ä»¬åœ¨`Money.vue`é‡Œè¾¹æ˜¯è¿™æ ·å†™çš„ï¼š

``` js
tags = ['è¡£', 'é£Ÿ', 'ä½', 'è¡Œ', 'å½©ç¥¨'];
```

æ˜¾ç„¶ï¼Œè¿™æ ‡ç­¾æ˜¯å†™æ­»çš„ï¼ä¸ç®¡ä½ æ–°å»ºäº†å¤šå°‘ä¸ªæ ‡ç­¾ï¼Œé¡µé¢ä¸€åˆ·æ–°ï¼Œæ–°å»ºçš„æ ‡ç­¾éƒ½ä¼šç»Ÿç»Ÿæ¶ˆå¤±æ‰ï¼

æ‰€ä»¥æˆ‘ä»¬æäº†ä¸€ä¸ªå« `tagListModel` çš„ä¸œè¥¿

ä¹‹å‰ï¼Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ª`model`ï¼Œæ‰€ä»¥å°±åˆ›å»ºäº†ä¸€ä¸ªå«`model.ts`æ–‡ä»¶ï¼Œè€Œç°åœ¨è¿˜éœ€è¦`model`ï¼Œæ‰€ä»¥ç°åœ¨çš„ç›®å½•ç»“æ„å˜æˆè¿™æ ·äº†ï¼š

![model ç›®å½•](assets/img/2020-09-10-17-38-25.png)

> æœ¬æ¥æ–‡ä»¶åæ˜¯æ²¡æœ‰åç¼€`Model`çš„ï¼Œä½†ä¸åŠ åç¼€çš„è¯ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ä¼šæœ‰åå­—å†²çªï¼ -> æ‰€ä»¥å°±éšä¾¿åŠ äº†ä¸€ä¸ªåç¼€ï¼

ğŸ’¡ï¼š`tagListModel.ts`å¦‚ä½•å†™ï¼Ÿ

ç»“æ„åŸºæœ¬ä¸`recordListModel.ts`ä¸€æ ·ï¼Œæ‰€ä»¥ `clone` ä¸€ä»½ `recordListModel.ts`é‡Œè¾¹çš„å†…å®¹ç²˜è´´è¿‡æ¥ï¼Œç„¶åä¿®æ”¹å°±å¥½äº†ï¼

> ç»“æ„å¾ˆåƒ -> æ„å‘³ç€é‡å¤ -> ä¹‹åä¼šè¯•ç€é‡æ„ä¸€ä¸‹ï¼Œå¦‚æŠŠè¿™ä¸¤ä¸ª`model`åˆæˆä¸€ä¸ªï¼ -> è€Œç›®å‰æˆ‘ä»¬å…ˆæŠŠåŠŸèƒ½å®Œæˆå†è¯´ï¼

ğŸ’¡ï¼šæ¯ä¸ªç»„ä»¶çš„`template`é‡Œè¾¹ï¼ŒåŸºæœ¬ä¸ä¼šå‡ºç°å†™æ­»çš„æ•°æ®ï¼Ÿ

![æ•°æ®æœ‰äº†ï¼ŒåŠ¨æ€ç”Ÿæˆ DOM ç»“æ„](assets/img/2020-09-10-17-50-48.png)

ğŸ’¡ï¼šå¾€`tagListModel`å¯¹è±¡é‡Œè¾¹å°è£…äº†å¾ˆå¤šæ“ä½œï¼Ÿ

å¦‚`fetch`ï¼ˆä»`localStorage`é‡Œè¾¹æ‹¿åˆ°`['11','222']`ï¼‰ã€`create`ï¼ˆåˆ›å»ºæ ‡ç­¾ï¼Œå¦‚`'3333'`ï¼‰ã€`save`ï¼ˆæŠŠ`['11','222']`ä¿å­˜åˆ°`localStorage`ï¼‰ç­‰è¿™æ ·çš„æ“ä½œ

ğŸ’¡ï¼šå¯¹è±¡æœ‰ä¸ªå±æ€§`data`ï¼Œå¯å®ƒçš„ç±»å‹è¯¥æ€ä¹ˆå£°æ˜å‘¢ï¼Ÿ

è¿™æ ·åšï¼Ÿ

![è¯­æ³•](assets/img/2020-09-10-18-02-19.png)

æˆ‘ä»¬æƒ³è¦è¿™ä¸ª`data`çš„ç±»å‹æ˜¯å…ƒç´ æ˜¯å­—ç¬¦ä¸²çš„æ•°ç»„ï¼Œè€Œä¸æ˜¯å…ƒç´ æ˜¯å¯¹è±¡çš„æ•°ç»„ä¹‹ç±»çš„â€¦â€¦

æ‰€ä»¥ï¼Œæˆ‘ä»¬æäº†ä¸ªç±»å‹å£°æ˜å®šä¹‰ï¼š

``` ts
type tagListModel = {
  data: string[];
  fetch: () => string[];
  create: (name: string) => "success" | "duplicated"; //è”åˆç±»å‹
  save: () => void;
};
```

`=>`å·¦è¾¹`(name: string)`é‡Œè¾¹çš„å†…å®¹æ˜¯è¾“å…¥çš„ç±»å‹ï¼ˆè¾“å…¥å’©æœ‰å°±æ˜¯ä¸€ä¸ªç©ºçš„`()`ï¼‰ï¼Œ`=>`å³è¾¹çš„`string[]`åˆ™æ˜¯è¾“å‡ºçš„ç»“æœçš„ç±»å‹ -> `void`æ˜¯ä¸è¿”å›

> è¿™å¯ä¸æ˜¯ç®­å¤´å‡½æ•°è¯­æ³•å“ˆï¼

ä¸è¦é—®ä¸ºä»€ä¹ˆè¦è¿™æ ·å†™ï¼Œå› ä¸ºè¯­æ³•å°±è¿™æ ·è§„å®šçš„ï¼ä½ çœ‹ç€æ–¹æ–¹å†™çš„ä»£ç ä¾è‘«èŠ¦ç”»ç“¢å°±è¡Œäº†ï¼Œä¸‹æ¬¡é‡åˆ°åŒæ ·çš„åœºæ™¯ï¼Œå°±ç…§ç€è¿™ä¸ªå§¿åŠ¿å»å¤„ç†å°±å¯¹äº†ï¼ -> å½“ä½ å†™å¤šäº†ï¼Œä½ ä¹Ÿå°±æ„Ÿè§‰ä¹Ÿå°±é‚£æ ·äº†ï¼Œè¿™è¯­æ³•æ²¡å•¥å¥‡æ€ªçš„ï¼

ğŸ’¡ï¼šä¸ºå•¥è¦åœ¨`tagListModel`å¯¹è±¡é‡Œè¾¹å†™ä¸ª`data`å±æ€§ï¼Ÿ

å› ä¸º`tagListModel`æƒ³è‡ªå·±ç»´æŠ¤`data`ï¼Œå¦‚æœä½ `Labels`é¡µé¢æƒ³è¦æ“ä½œ`data`ï¼Œé‚£ä¹ˆä½ å°±å¾—ç”¨`tagListModel`æä¾›çš„ API æ¥æ“ä½œï¼è€Œä¸æ˜¯è®©é¡µé¢ç›´æ¥æ“ä½œç”¨æˆ·æ•°æ®ï¼

è¿™ç§å¤„ç†ï¼Œè·Ÿ`recordListModel`å¯¹æ¯”æ˜¯ä¸åŒçš„ï¼š

![data å¤„ç†å¼‚åŒ](assets/img/2020-09-10-18-21-45.png)

`tagListModel`è¿™æ ·åšçš„å¥½å¤„ï¼š

![å¥½å¤„](assets/img/2020-09-10-18-28-58.png)

> æ›´åƒ MVC äº†ï¼Œ`Labels`ç»„ä»¶çš„`tags`çŠ¶æ€å€¼ï¼Œåªæ˜¯è§†å›¾æ¸²æŸ“çš„æ•°æ®æºï¼è€Œ `C` åˆ™æ˜¯è´Ÿè´£è°ƒåº¦`M`å»æ“ä½œ`data`

![å†ä¸€æ¬¡ç†è§£ MVC](assets/img/2020-09-10-18-37-17.png)

> åˆ«å¿˜äº†æ•°æ®åˆ†ä¸º UI æ•°æ® å’Œ ç”¨æˆ·æ•°æ®

ğŸ’¡ï¼šæ–¹æ–¹å–œæ¬¢æŠŠåˆ›å»ºçš„ä¸œè¥¿`return`å›å»ï¼

![ä¹ æƒ¯](assets/img/2020-09-10-18-17-30.png)

ğŸ’¡ï¼šç”¨æˆ·åœ¨åˆ›å»ºå‡ºæ¥çš„æ ‡ç­¾é‡å¤äº†ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æç¤ºç”¨æˆ·ã€Œæ ‡ç­¾é‡å¤äº†ã€ï¼Ÿ

æ–°æ‰‹åšæ³•ï¼šåˆ›å»º æˆåŠŸ/å¤±è´¥ å°±è¿”å›`ture/false` -> æ ¹æ®è¿”å›å€¼æç¤ºç”¨æˆ·

è€æ‰‹åšæ³•ï¼ˆè€ƒè™‘å¾ˆå¤šï¼‰ï¼šæ¯”å¦‚ä¸ºå•¥åˆ›å»ºå¤±è´¥ï¼Ÿéœ€è¦æŠŠå¤±è´¥åŸå› ç»™è¿”å›å‡ºå»ï¼

å§¿åŠ¿æœ‰ä¸¤ç§ï¼š

å§¿åŠ¿ä¸€ï¼š

![æŠ›å‡ºé”™ï¼Œæ•è·é”™è¯¯](assets/img/2020-09-10-19-12-22.png)

å§¿åŠ¿äºŒï¼š

æŒ‰ç…§æ–¹æ–¹çš„ç»éªŒæ¥è¯´ï¼Œæœ€å¥½æ˜¯è¿”å›ä¸€ä¸ªæ•°å­—æˆ–è€…è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼

å¦‚ï¼š

- æˆåŠŸè¿”å›`0`
- å¤±è´¥è¿”å›`1ã€2ã€3ã€4ã€5ã€6ã€7ã€8ã€9ã€10` -> `1`è¡¨ç¤º`name`é‡å¤â€¦â€¦`2`è¡¨ç¤º`xxx`é”™è¯¯â€¦â€¦

è¿”å›æ•°å­—è¿™ç§å§¿åŠ¿å¯è¡Œï¼Œä½†æ•°å­—è¿™ç§å§¿åŠ¿è¯­ä¹‰æ€§ä¸å¥½å‘€ï¼ -> å¾ˆå®¹æ˜“é—å¿˜â€¦â€¦

æ‰€ä»¥æˆ‘ä»¬ç”¨äº†å­—ç¬¦ä¸²å§¿åŠ¿æ¥è¡¨ç¤ºé”™è¯¯åŸå› ï¼å¦‚è¿”å›`'duplicate'`å°±æ˜¯é‡å¤é”™è¯¯ï¼Œè€Œ`'success'`è¡¨ç¤ºåˆ›å»ºæˆåŠŸï¼

è¿”å›å¯¹è±¡çš„å§¿åŠ¿æ˜¯è¿™æ ·çš„ï¼š

``` js
{
  // é”™è¯¯ç 
  code: number,
  // é”™è¯¯ç æ‰€ä»£è¡¨çš„å«ä¹‰
  message: string
}
```

è¿™ç§è¿”å›å€¼ä¹Ÿæ˜¯ ok çš„ -> ä¸ºäº†ç®€å•èµ·è§ï¼Œè¿”å›å­—ç¬¦ä¸²ï¼

æ³¨æ„ï¼Œè¿”å›å­—ç¬¦ä¸²è¿™ç§å§¿åŠ¿ï¼Œå¾ˆå®¹æ˜“ä¼šå†™é”™å•è¯ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»Ÿä¸€è§„å®šä¸€ä¸‹ï¼š

![è”åˆç±»å‹](assets/img/2020-09-10-19-26-48.png)

å½“ä½ æ‹¼é”™å•è¯çš„æ—¶å€™ï¼Œ`tsc`å°±ä¼šçˆ†çº¢ï¼š

![ä¸ºå•¥è¦ç”¨è”åˆç±»å‹](assets/img/2020-09-10-19-31-05.png)

> è”åˆç±»å‹æ˜¯å­—ç¬¦ä¸²çš„å­ç±»å‹ -> ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸æ˜¯æ‰€æœ‰çš„å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯å°±é‚£ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ -> è¿™æ˜¯ä¸å±äºé‚£ 7 å¤§ç±»å‹é‡Œè¾¹çš„å…¶ä¸­ä¸€ä¸ªï¼Œç±»ä¼¼äºæšä¸¾

## â˜…EditLabel.vue & Vue Router

1ï¼‰éœ€æ±‚ä¸ä»£ç å®ç°

![ç¼–è¾‘æ ‡ç­¾](assets/img/2020-09-11-17-37-21.png)

é¡¶éƒ¨å¯¼èˆªæ  -> æ–¹ä¾¿å›é€€åˆ°ã€Œæ ‡ç­¾é¡µã€ -> å¦‚æœå’©æœ‰è¿™ä¸ªé‚£å°±åªèƒ½ç‚¹å‡»åº•éƒ¨çš„é‚£ä¸‰ä¸ªå¯¼èˆªäº†ï¼Œè€Œè¿™è´¼å…¶ä¸æ–¹ä¾¿ï¼

ä»£ç ï¼š

- [Demo](https://github.com/ppambler/vue-morney/commit/d900d9c7bdaa81a46541c064c6bbc3601bcf01d1)
- [Demo](https://github.com/ppambler/vue-morney/commit/df3bade4fd5d6b03ab70e64e70d350405ad1a1bb)

2ï¼‰ä»£ç è§£æ

ğŸ’¡ï¼šæˆ‘ä»¬è¦ç¼–è¾‘ä¸€ä¸ªæ ‡ç­¾éœ€è¦ç”¨åˆ°å®ƒçš„`id`ï¼Ÿ

`id`ä¸€èˆ¬æ˜¯æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬è‡ªå·±é€ ä¸€ä¸ªå‡çš„`id`ï¼ˆæ–¹ä¾¿èµ·è§ï¼ŒæŠŠæ ‡ç­¾çš„`name`å½“ä½œ`id`ï¼‰!

> æ­£å¸¸çš„`id`æ˜¯ä¸€ä¸²æ•°å­—æˆ–è€…ä¸€ä¸²æ•°å­—å­—ç¬¦ä¸²ï¼è€Œæˆ‘ä»¬è¿™é‡Œåˆ™æ˜¯**éæ•°å­—çš„å­—ç¬¦ä¸²**ï¼

ä¹‹åä¼šæ”¹æˆ`id`ç”Ÿæˆå™¨ï¼

ğŸ’¡ï¼šæ•°ç»„ API `map`çš„ç”¨æ³•ï¼Ÿ

![map](assets/img/2020-09-12-16-38-46.png)

ğŸ’¡ï¼šåœ¨ã€Œæ ‡ç­¾é¡µã€é‡Œè¾¹ç‚¹å‡»äº†æŸä¸ªæ ‡ç­¾ï¼Œç„¶åå°±ä¼šè·³è½¬åˆ°ã€Œæ ‡ç­¾ç¼–è¾‘é¡µã€ï¼Œé‚£ä¹ˆè¿™ä¸ªã€Œæ ‡ç­¾ç¼–è¾‘é¡µã€æ˜¯å¦‚ä½•çŸ¥é“æˆ‘ä»¬åˆšåˆšç‚¹å‡»äº†å“ªä¸ªæ ‡ç­¾ï¼Ÿ

![è·å–å¦ä¸€ä¸ªé¡µé¢çš„æ•°æ®](assets/img/2020-09-12-17-43-22.png)

è·¯ç”±é…ç½®ä¸€ä¸‹ï¼š

``` ts
{ path: "/labels/edit/:id", component: EditLabel }
```

`:id`æ˜¯å ä½ç¬¦ -> å¯ä»¥æ˜¯`1`ã€`2`ã€`3`ç­‰è¿™æ ·çš„å€¼ï¼

è¯åˆè¯´å›æ¥ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è·å–è·¯ç”±ä¿¡æ¯ï¼Ÿä¹Ÿå°±æ˜¯å¦‚ä½•è·å–é‚£ä¸ª`:id`å€¼ï¼Ÿ

ç”¨ Vue æä¾›çš„é’©å­ `created` æ¥è·å– -> ä¸ºä»€ä¹ˆï¼Ÿ -> å› ä¸ºæˆ‘ä»¬éœ€è¦ç”¨åˆ°`this`å‘€ï¼

``` ts
this.$route.params // {id: '1'}
```

> ä¸€èˆ¬è·Ÿè·¯ç”±ç›¸å…³çš„ä¿¡æ¯æ˜¯æ”¾åœ¨`$route`é‡Œè¾¹çš„ï¼ˆ**æ‹¿åˆ°è·¯ç”±è·¯å¾„ä¿¡æ¯ä¹‹ç±»çš„**ï¼‰ï¼Œè€Œè·Ÿè·¯ç”±å™¨ç›¸å…³çš„ä¿¡æ¯åˆ™æ”¾åœ¨`$router`é‡Œè¾¹ï¼ˆ**å¤„ç†è½¬å‘ä¹‹ç±»çš„**ï¼‰ï¼

æ³¨æ„ï¼Œå¦‚æœä½ å†™çš„æ˜¯`:fuck`ï¼Œé‚£ä¹ˆä½ å°±å¾—è¿™æ ·åšäº†ï¼š

``` ts
this.$route.params // {fuck: '1'}
```

æ‰€ä»¥`:id`å¹¶ä¸æ˜¯å›ºå®šçš„å†™æ³• -> å®ƒç›¸å½“äºæ˜¯ç»™è¿™ä¸ªå€¼ä¸€ä¸ªåå­—ï¼

> æ–¹æ–¹çš„ä¸€ä¸ªä¹ æƒ¯ï¼Œå¦‚æœä¸ç¡®å®šä¸€ä¸ªä¸œè¥¿æ˜¯å“ªå„¿æ¥çš„ï¼Œé‚£å°±æŠŠè¿™ä¸ªä¸œè¥¿æ”¹æˆ`fuck`ï¼ -> å¦‚æˆ‘ä»¬ä¸ç¡®å®š`parms`æ‰€è¿”å›çš„`{id:'1'}`é‡Œè¾¹çš„`id`æ˜¯å“ªå„¿æ¥çš„ï¼Œäºæ˜¯å°±ç”¨äº†`:fuck`æµ‹è¯•ä¸€ä¸‹ï¼ -> å¾—å‡ºç»“è®ºï¼š`{id:'1'}`é‡Œè¾¹çš„`id`æ¥è‡ªäºè·¯ç”±é…ç½®é‡Œè¾¹çš„`:id`

é€è¿‡è¿™äº› API ï¼Œã€Œæ ‡ç­¾ç¼–è¾‘é¡µã€å°±çŸ¥é“ç”¨æˆ·è¦ç¼–è¾‘çš„æ˜¯å“ªä¸€ä¸ªæ ‡ç­¾äº†ï¼

è¯è¯´ï¼Œ`params`ä¸ºå•¥ä¼šæœ‰`id`è¿™ä¸ªå‚æ•°ï¼Ÿä¸éœ€è¦å£°æ˜å®ƒçš„ç±»å‹å—ï¼Ÿ

![id](assets/img/2020-09-12-18-02-42.png)

> `Dictionary`ç±»å‹æ„å‘³ç€ `params`è¿™ä¸ª `{}` é‡Œè¾¹å¯ä»¥æ˜¯ä»»æ„çš„é”®å€¼ï¼

ä¸ºä»€ä¹ˆ`this`ä¼šæœ‰ä¸ª`$route`çš„ä¸œè¥¿ï¼Ÿ -> å› ä¸ºæˆ‘ä»¬å®‰è£…äº†ä¸€ä¸ªåº“ `vue-router`

![Vue å®ä¾‹å¤šäº†ä¸¤ä¸ªä¿¡æ¯](assets/img/2020-09-12-18-06-32.png)

è¿™ä¸¤ä¸ªå±æ€§ API çš„ä½œç”¨ -> æ— éå°±æ˜¯åœ¨æ”¶é›†ä¸€äº›ä¿¡æ¯ç½¢äº†ï¼æˆ‘ä»¬æ— é¡»å…³å¿ƒå®ƒä»¬çš„æºç å®ç°ï¼

ğŸ’¡ï¼š`this.$router.push("/404")` & `this.$router.replace("/404")` çš„åŒºåˆ«ï¼Ÿ

å‰è€…è·³è½¬åï¼Œä¸èƒ½ç‚¹å‡»`<-`å›é€€åˆ°ä¸Šä¸€ä¸ªé¡µé¢ï¼Œè€Œåè€…åˆ™å¯ä»¥ç‚¹å‡»`<-`å›é€€åˆ°ä¸Šä¸€ä¸ªé¡µé¢ï¼

`replace`çš„æ•ˆæœï¼š

![replace çš„æ•ˆæœ](assets/img/2020-09-12-22-26-59.png)

ğŸ’¡ï¼šå¦‚ä½•æŠŠã€Œæ ‡ç­¾é¡µã€å’Œã€Œæ ‡ç­¾ç¼–è¾‘é¡µã€å…³è”èµ·æ¥ï¼Ÿ

> ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/eea730779f81eb8c3de48cff0dd68fdb443092ec)

å¾ˆç®€å•ï¼Œå¯¹ã€Œæ ‡ç­¾é¡µã€é‡Œè¾¹çš„æ¯ä¸ª`item`ä½¿ç”¨ `router-link` åŒ…è£¹ä¸€ä¸‹å°±å¥½äº†

ç›®å‰ï¼Œæ¯ä¸ª`item`æ˜¯è¿™æ ·çš„ç»“æ„ï¼š`ol > li`

æˆ‘ä»¬ä¸èƒ½æ”¹æˆè¿™æ ·ï¼š`ol > router-lin1k` -> å› ä¸º`ol`çš„å„¿å­åªèƒ½æ˜¯`li`ï¼Œæ‰€ä»¥æˆ‘ä»¬æ”¹`ol`ä¸º`div`å°±å¥½äº†

æ‰€ä»¥ï¼Œæœ€åæ”¹æˆè¿™æ ·äº†ï¼š

![router-link](assets/img/2020-09-12-23-38-56.png)

> å›¾ä¸­é‚£ä¸ª`class`æ˜¯åœ¨`a`æ ‡ç­¾ä¸Šçš„

![æ ·å¼ä½œç”¨çš„ä½ç½®](assets/img/2020-09-12-23-42-05.png)

æ€»ä¹‹ï¼Œæˆ‘ä»¬æŠŠ`div > router-link` çœ‹æˆæ˜¯åŸå…ˆçš„ `ol > li` å°±å¥½äº†ï¼ -> åœ¨æ ·å¼æ–¹é¢éƒ½æ˜¯ç”¨`class`æ¥ç®¡æ§çš„ï¼Œè€Œä¸æ˜¯ç”¨æ ‡ç­¾ï¼Œæ‰€ä»¥æ›´æ”¹æ ‡ç­¾åŸºæœ¬ä¸Šå¯¹æ ·å¼æ— å½±å“ï¼

ğŸ’¡ï¼š`#/labels`æ˜¯æ ‡ç­¾ï¼Œ`tags`ä¹Ÿæ˜¯æ ‡ç­¾ï¼Œé‚£ä¹ˆåœ¨å‘½åæ–¹é¢èƒ½å¦ç»Ÿä¸€èµ·æ¥ï¼Ÿ

ğŸ’¡ï¼šå¦‚ä½•æ‰¾åˆ°å¯¹ç§°çš„ `Icon` ï¼Ÿ

æˆ‘ä»¬å¾ˆéš¾æ‰¾åˆ°ç›¸åŒ¹é…çš„ `Icon`ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠ`right.svg`ä¸Šä¼ åˆ° `iconfont.cn` ï¼Œç„¶åå€ŸåŠ©å®ƒçš„ `svg` ç¼–è¾‘å™¨æ—‹è½¬ä¿®æ”¹ï¼

æˆ‘çš„åšæ³•æ˜¯è¿™æ ·çš„ï¼ˆä¸ç”¨ä¸Šä¼ ï¼‰ï¼š

![æ‹·è´](assets/img/2020-09-14-19-19-57.png)

æ—‹è½¬å¤„ç†ï¼š

![æ—‹è½¬å¤„ç†](assets/img/2020-09-14-19-21-04.png)

æ–¹æ–¹çš„ä¸€ä¸ªä¹ æƒ¯ï¼š

åœ¨ä¸Šä¼ æ–‡ä»¶ç»™`iconfont.cn`çš„æ—¶å€™ï¼Œé¦–å…ˆæŠŠæºæ–‡ä»¶æ‹·è´ä¸€ä»½åˆ°æ¡Œé¢ï¼ˆ**æ¡Œé¢ä¸Šçš„æ–‡ä»¶æ˜¯ä¸é‡è¦çš„ï¼å¯ä»¥éšä¾¿åˆ ï¼**ï¼‰ï¼Œç„¶åå†ä¸Šä¼ 

ğŸ’¡ï¼š`EditLabel.vue`ç”¨åˆ°äº†ç±»ä¼¼`Money.vue`é‡Œè¾¹çš„é‚£ä¸ª`Notes.vue`ï¼Œé‚£ä¹ˆæˆ‘ä»¬èƒ½å¦æŠŠè¿™ä¸ª`Notes`ç»„ä»¶å°è£…æˆæ›´ä¸ºé€šç”¨çš„ç»„ä»¶å‘¢ï¼Ÿ

`Money`é¡µé¢éœ€è¦ç”¨åˆ°è¾“å…¥æ¡†ï¼Œ`EditLabel`é¡µé¢åŒæ ·ä¹Ÿéœ€è¦ç”¨åˆ°è¾“å…¥æ¡†

å¯¹äºè¿™æ•´ä¸ªè®°è´¦åº”ç”¨æ¥è¯´ï¼Œè¾“å…¥æ¡†éƒ½åº”è¯¥æ˜¯åŒä¸€ä¸ªç»„ä»¶æ‰å¯¹ï¼è€Œä¸æ˜¯æ‹·è´ä¸€ä»½`Notes`ç»„ä»¶ä»£ç ï¼Œä¿®æ”¹ä¸€ä¸‹ï¼Œæ‰”åˆ°`EditLabel.vue`é‡Œè¾¹ç›´æ¥ç”¨å°±å®Œäº‹å„¿äº†â€¦â€¦

## â˜…å¦‚ä½•å°è£…é€šç”¨ç»„ä»¶

1ï¼‰åšæ³•

1. åœ¨ `EditLabel` é‡Œè¾¹ä½¿ç”¨ `Notes` ç»„ä»¶
2. å‘ç°æœ‰é—®é¢˜ -> å­—æ®µæç¤ºä¿¡æ¯ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„
3. æ”¹`Notes`ç»„ä»¶ -> ç”¨å­—æ®µæç¤ºä¿¡æ¯æ˜¯ç”±å¤–ç•Œæä¾›çš„
4. `Label.vue`å‡ºé—®é¢˜äº† -> ä¿®å¤

ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/ab874f8f596164620330ea8545d7df41bee16a82)

2ï¼‰ä»£ç è§£æ

ğŸ’¡ï¼š`@Prop({required:true}) fieldName!: string;`

> ä½ è¿™æ ·å®šä¹‰`fieldName`å±æ€§ï¼Œé‚£ä¹ˆåœ¨ä¼ å€¼æ—¶ï¼Œä½ å¾—è¿™æ ·æ¥ï¼š`field-name`

è¿™ä¸ªå­—æ®µæ˜¯å¿…å¡«çš„ -> åŠ `!`æ˜¯è¡¨ç¤ºæˆ‘ä¸éœ€è¦åˆå§‹å€¼ï¼Œå› ä¸ºç”¨æˆ·å¿…å¡«æœ‰ä¸€ä¸ªå€¼ï¼

å¦‚æœä¸åŠ `!`ï¼Œä½ å¿…é¡»ç»™ä¸ªåˆå§‹å€¼ï¼ä¸ç„¶ï¼Œ`tsc`ä¼šæŠ¥é”™ï¼

æ€»ä¹‹ï¼Œ`!`æ˜¯é`null`å’Œé`undefined`çš„ç±»å‹æ–­è¨€ï¼

å¦ä¸€ç§ç†è§£å§¿åŠ¿ï¼š

![æ˜ç¡®çš„èµ‹å€¼æ–­è¨€](assets/img/2020-09-15-16-15-14.png)

â¹ï¼š[ã€å‰ç«¯èµ„è®¯ã€‘TypeScript 2.7 å‘å¸ƒ - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/33551084)

ğŸ’¡ï¼š`@Prop() placeholder?: string`

`?`ç”¨äºå±æ€§å®šä¹‰æ—¶ï¼Œè¡¨ç¤ºè¯¥å­—æ®µæœ‰å¯èƒ½ä¸å­˜åœ¨ï¼è€Œå±æ€§è¯»å–æ—¶ï¼Œè¯¥å€¼å¯èƒ½ä¸ºç©ºå€¼ï¼ˆ`null`or`undefined`ï¼‰ï¼Œæ‰€ä»¥éœ€è¦åšåˆ¤æ–­ï¼

å¦‚æœä½ ç”¨`!`ï¼Œé‚£ä¹ˆæ„å‘³ç€ä½ ä¸ä¼ `placeholder`å­—æ®µï¼Œå®ƒå°±æ˜¯é»˜è®¤çš„`undefined`å€¼ï¼è€Œæˆ‘ä»¬å¹¶ä¸æƒ³è¦è¿™æ ·ï¼Œæ‰€ä»¥å°±ç”¨`?`

æˆ‘æµ‹è¯•äº†ä¸€ä¸‹ï¼Œä¸ç®¡ç”¨`!`è¿˜æ˜¯`?`éƒ½æ˜¯ä¸€æ ·çš„ï¼ç”¨æˆ·ä¸ä¼ `placeholder`ï¼Œé‚£ä¹ˆè¿™ä¸ª`Notes`ç»„ä»¶çš„`placeholder`å±æ€§å°±æ˜¯`undefined`å€¼äº†ï¼ -> **æˆ‘è¿˜ä»¥ä¸ºç”¨äº†`?`ï¼Œç”¨æˆ·ä¸ä¼ `placeholder`ï¼Œé‚£ä¹ˆè¿™ä¸ª`Notes`ç»„ä»¶å°±å’©æœ‰è¿™ä¸ª`placeholder`å±æ€§ï¼å®é™…ä¸Šï¼Œä¸ç®¡ä¼ ä¸ä¼ éƒ½ä¼šæœ‰è¿™ä¸ªå±æ€§ï¼**

â¹ï¼š[å¯¹æ¯”ç†è§£ Typescript ä¸­çš„ asã€é—®å·ä¸å¹å· - æ˜é‡‘](https://juejin.im/post/6844904068951834632#heading-2)

ğŸ’¡ï¼šå…³äº`Notes.vue`è¿™ä¸ªåå­—ï¼Ÿ

å…¶å®è¿™ä¸ª`Notes`åå­—ä¸æ€ä¹ˆåˆé€‚ï¼Œå› ä¸ºå®ƒçš„åŠŸèƒ½å°±æ˜¯ä¸ªè¾“å…¥æ¡†ï¼Œæ‰€ä»¥å¯ä»¥å«åš`EditItem` or `InputItem` ä¹‹ç±»çš„â€¦â€¦

é‡å‘½åè¿™ä¸ª`Notes.vue`ï¼ˆåŠŸèƒ½å¿…é¡»å…ˆå®Œæˆï¼Œè€Œä¸”è¿˜å¾—å…ˆæäº¤ä¸€ä»½ä»£ç ï¼Œç„¶åå†è€ƒè™‘é‡å‘½åï¼‰ï¼š

åœ¨ VSCode é‡Œè¾¹ï¼Œå…¨å±€æœç´¢`Notes`è¿™ä¸ªåå­—ï¼Œç„¶åæ›¿æ¢æˆ`FormItem`å°±å¥½äº†ï¼ï¼ˆåªæ”¹ä½¿ç”¨åˆ°çš„ç»„ä»¶åä»¥åŠ`class`åï¼Œå…¶å®ƒçš„æ–¹æ³•åï¼Œå­—æ®µåè¿˜æ˜¯ç”¨`notes`ï¼‰

3ï¼‰åˆ é™¤æŒ‰é’®

æŠŠ`Button`ä¹Ÿæ”¹æˆé€šç”¨ç»„ä»¶ï¼ -> ä¸ºå•¥è¦æ”¹ï¼Ÿ -> å› ä¸ºã€Œæ ‡ç­¾é¡µã€æœ‰ä¸ªã€Œæ–°å»ºæ ‡ç­¾ã€çš„`Button`ï¼Œè€Œã€Œæ ‡ç­¾ç¼–è¾‘é¡µã€ä¹Ÿæœ‰ä¸ªå«ã€Œåˆ é™¤æ ‡ç­¾ã€çš„`Button`ï¼

ğŸ’¡ï¼šæ–°å»ºäº†ä¸€ä¸ª`Button.vue`ï¼Œå¯æ˜¯åŸç”Ÿæ ‡ç­¾æ˜¯`button`å‘€ï¼éš¾é“è¿™ä¸ä¼šå†²çªå—ï¼Ÿ

ä¸ä¼šçš„ï¼å› ä¸ºä¸€ä¸ªæ˜¯å¤§å†™`B`ï¼Œä¸€ä¸ªæ˜¯å°å†™`b` -> æœ€ç»ˆä¼šç¼–è¯‘è¿™ä¸ª`Button`ç»„ä»¶æ ‡ç­¾ï¼

ğŸ’¡ï¼šæ”¹ç”¨ä¸º`Button`ç»„ä»¶æ ‡ç­¾åï¼Œå¦‚ä½•è§¦å‘å®ƒçš„ç‚¹å‡»äº‹ä»¶ï¼Ÿ

æˆ‘ä»¬ç›‘å¬äº†å¤§`Button`çš„ç‚¹å‡»äº‹ä»¶ï¼Œä½†ç”¨æˆ·åœ¨é¡µé¢ä¸Šç‚¹å‡»çš„æ˜¯ç¼–è¯‘è¿‡åçš„å°`button` -> ç”¨æˆ·ç‚¹å‡»å°`button`çš„æ—¶å€™ï¼Œè§¦å‘å¤§`Button`çš„ç‚¹å‡»äº‹ä»¶ï¼

å°`button`ï¼š

``` html
<button class="button" @click="$emit('click',$event)">
  <slot />
</button>
```

å¤§`Button`ï¼š

``` html
<Button class="createTag" @click="createTag">æ–°å»ºæ ‡ç­¾</Button>
```

è¯è¯´ï¼Œå¦‚æœè¿˜è¦ç›‘å¬å…¶å®ƒäº‹ä»¶å‘¢ï¼Ÿ -> é‚£æˆ‘å²‚ä¸æ˜¯è¿˜éœ€è¦å†™å¾ˆå¤šæ¬¡`$emit()`ï¼Ÿ

å°¤é›¨æºªå‘æ˜äº†å¦ä¸€ç§è¯­æ³•ï¼š

``` html
<!-- template -->
<button class="button">
  <slot />
</button>

<!-- use -->
<Button class="createTag" @click.native="createTag">æ–°å»ºæ ‡ç­¾</Button>
```

è¿™ç§å§¿åŠ¿ä¹Ÿæ˜¯å¯ä»¥çš„ï¼`.native`ç›¸å½“äºæ˜¯ä¸€ç§è¯­æ³•ç³–ï¼ -> ä¸€ç§å°è£…æ“ä½œï¼

ä¸è¿‡ï¼Œè¿™ç§å§¿åŠ¿å¾ˆå°‘äººçŸ¥é“ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½ä¼šç”¨ä¸Šè¾¹é‚£ä¸€ç§ï¼Œå³å†…éƒ¨é€šçŸ¥å¤–éƒ¨è§¦å‘`click`äº‹ä»¶ï¼

æ€»ä¹‹ï¼Œä¸ç®¡æ€æ ·ï¼Œæ•´ä½“ä¸Šçœ‹è¿™ä¸ª`Button`ç»„ä»¶æ ‡ç­¾ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æŠŠå®ƒå½“ä½œåƒä½¿ç”¨æ™®é€šçš„`button`åŸç”Ÿæ ‡ç­¾è¿™æ ·å»ä½¿ç”¨å®ƒï¼

> ä¸€ä¸ªæƒè¡¡ï¼š`Button`å¾ˆå®¹æ˜“ä¼šè¢«ä½¿ç”¨åˆ°ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥å…¨å±€å¼•ç”¨å®ƒï¼Ÿ -> éšä¾¿â€¦â€¦

---

å§‹ç»ˆè°¨è®°ï¼šå…ˆæå®š HTMLï¼Œå†å»å†™ CSSï¼Œæœ€åå†æ JS

## â˜…EditLabel.vue ä¹‹ CSS

ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/b39c9f885d4b88760f9ead77707d84ce894d861d)

1ï¼‰å†™ CSS

ğŸ’¡ï¼šHTML ç»“æ„ï¼Ÿ

![HTML ç»“æ„](assets/img/2020-09-15-21-51-31.png)

> HTML ä»£ç é‡å¤ 2 æ¬¡åŠä»¥ä¸Šï¼Œå°±åº”è¯¥è€ƒè™‘ç»„ä»¶åŒ–ï¼

ğŸ’¡ï¼š`navBar`çš„å¸ƒå±€æ€è·¯ï¼Ÿ

æ€è·¯ä¸€ï¼š

å·¦è¾¹`Icon`ç»å¯¹å®šä½ï¼Œè€Œ`title`åˆ™æ˜¯ç»å¯¹å±…ä¸­ -> ä¸ºå•¥ä¸å·¦ä¸­å³å¸ƒå±€å‘¢ï¼Ÿå› ä¸ºå³è¾¹æ²¡ä¸œè¥¿å‘€ï¼ä¸ç„¶ï¼Œå°±å¾ˆä¸å¯¹ç§°äº†ï¼ -> ä½†è¿™æœ‰ä¸ªå¼Šç«¯ï¼Œé‚£å°±æ˜¯`Icon`ä¸Šä¸‹ä¸å¥½å±…ä¸­ï¼

![æ€è·¯ä¸€](assets/img/2020-09-15-22-11-31.png)

æ€è·¯äºŒï¼š

`flex`å¸ƒå±€ï¼ -> è¿˜æ˜¯ç”¨äº†å·¦ä¸­å³å¸ƒå±€ï¼Œå› ä¸º`Icon`ä¸å¥½ä¸Šä¸‹å±…ä¸­ï¼

ğŸ’¡ï¼šå…³äºæ–¹æ–¹å†™æ ·å¼æ—¶çš„ä¸€ä¸ªæ¯”è¾ƒå–œæ¬¢çš„ä¹ æƒ¯ï¼Ÿ

![é€‰æ‹©å™¨å…ˆåƒ](assets/img/2020-09-15-21-56-30.png)

ğŸ’¡ï¼šæ–¹æ–¹åœ¨ CSS çš„æ—¶å€™ï¼Œå…¶å¤§è„‘åœ¨å¹²ä»€ä¹ˆï¼Ÿ

![åŠ  border](assets/img/2020-09-15-22-15-44.png)

ä»ä¸­å¯ä»¥çœ‹åˆ°`Icon`å¹¶å’©æœ‰ä¸Šä¸‹å¯¹é½ï¼ -> åˆ©ç”¨ `flex` æä¾›çš„é‚£å‡ ä¸ªå±æ€§å¯ä»¥å®ç°ä¸Šä¸‹å±…ä¸­ï¼

ğŸ’¡ï¼šä¸ºä»€ä¹ˆä¼šæœ‰ä¸ªæ²¡æœ‰å†…å®¹çš„æ ‡ç­¾ï¼š`<div class="rightIcon"></div>`ï¼Ÿ

![å³ Icon](assets/img/2020-09-15-22-22-29.png)

ğŸ’¡ï¼šä¸ºä»€ä¹ˆæ–¹æ–¹å†™çš„ CSS ä»£ç ç»å¸¸æ€§çš„å‡ºç°ä¸€ä¸ª`class`ä¸º`xxx-wrapper`åµŒå¥—`div`ï¼Ÿ

å› ä¸ºä¸æƒ³ç›´æ¥åœ¨ï¼š

``` html
<FormItem field-name="æ ‡ç­¾å" placeholder="è¯·è¾“å…¥æ ‡ç­¾å" />
```

ä¸Šç»™èƒŒæ™¯è‰²ï¼Œè€Œæ˜¯ç»™å®ƒçš„çˆ¸çˆ¸ä¸€ä¸ªèƒŒæ™¯è‰²ï¼

ä¸ºå•¥ä¸å«`container`ï¼Ÿ -> å› ä¸ºè¿™å•è¯æ¯”`wrapper`é•¿ï¼

ğŸ’¡ï¼šä¸€ä¸ªä¸æˆæ–‡çš„è§„å®šï¼Ÿ

![é«˜åº¦ä¸€è‡´](assets/img/2020-09-15-22-30-37.png)

> è®©ä¸€ä¸ªå…ƒç´ çœ‹èµ·æ¥å˜é«˜ï¼ˆç”¨èƒŒæ™¯è‰²è¡¬æ‰˜ï¼‰ï¼Œå¯ä»¥ç»™å®ƒçš„çˆ¸çˆ¸åŠ ä¸ªä¸Šä¸‹`padding`ï¼Œå¦‚`Money.vue`é‡Œè¾¹çš„`Input`æ¡†å°±æ˜¯è¿™æ ·åšçš„ï¼

ğŸ’¡ï¼š`button`å…ƒç´ ä¸Šä¸‹è·ç¦»çš„å¤„ç†ï¼Ÿ

![ä¸Šä¸‹è·ç¦»](assets/img/2020-09-15-22-39-58.png)

å…·ä½“æµ‹è¯•æ•ˆæœï¼š

![è·ç¦»æµ‹è¯•](assets/img/2020-09-15-22-43-22.png)

## â˜…EditLabel.vue åŠŸèƒ½å®ç°

> å†™è¿™ä¸ªä»£ç ä¹‹å‰ï¼Œä¸€å®šè¦å…ˆæŠŠä¹‹å‰å†™çš„ä»£ç ç»™æäº¤äº†ï¼ -> ä½ åšäº†ä¸€ä»¶äº‹æƒ…å°±è¦`commit`ä¸€æ¬¡ï¼Œè€Œä¸æ˜¯åšäº†å¤šä»¶äº‹ä¹‹åå†æäº¤ï¼

1ï¼‰å¦‚ä½•è·å–æ ‡ç­¾åç„¶åå±•ç¤ºä¹‹ï¼Ÿ

åŠŸèƒ½ï¼šæŠŠç”¨æˆ·é€‰æ‹©çš„æ ‡ç­¾å±•ç¤ºåˆ°ã€Œæ ‡ç­¾ç¼–è¾‘é¡µã€çš„è¾“å…¥æ¡†

![åŠŸèƒ½](assets/img/2020-09-16-23-56-26.png)

æ€è·¯ï¼š`EditLabel.vue`æ˜¯`FormItem.vue`çš„çˆ¶ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä¼ ä¸€ä¸ª`value`ç»™`FormItem`å°±è¡Œäº†

ğŸ’¡ï¼šæˆ‘ä»¬è¦è®©`Input`æ¡†é‡Œè¾¹çš„å†…å®¹ä»å¤–éƒ¨ä¼ è¿›æ¥ï¼Ÿï¼ˆæŠŠç”¨æˆ·é€‰ä¸­çš„æ ‡ç­¾åä¼ è¿›æ¥ï¼‰

ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/5d084138066c980b011ecfe62fd203b4c278400c)

ğŸ’¡ï¼šä¸ºä»€ä¹ˆè¦å†™å•å…ƒæµ‹è¯•ï¼Ÿ

ä½ ä¼šç»å¸¸æ€§åœ°æ”¹ä»£ç ï¼Œæ”¹å®Œä¹‹åï¼Œè¿˜å¾—æµ‹è¯•ä¸€ä¸‹é¡¹ç›®æ˜¯å¦æœ‰æŠ¥é”™ï¼ -> å¦‚ä½•æµ‹è¯•å‘¢ï¼Ÿ -> è®©é¡¹ç›®è¿è¡Œä¸€ä¸‹

è€Œæœ‰äº†å•å…ƒæµ‹è¯•ï¼Œå°±ä¸ç”¨é¡¹ç›®è¿è¡Œäº†ï¼Œç›´æ¥è·‘æµ‹è¯•ä»£ç å°±è¡Œäº†ï¼

ğŸ’¡ï¼šä¸ºä»€ä¹ˆä¸æ¨èç”¨`v-model`ï¼Ÿ

æˆ‘ä»¬ç»™`FormItem.vue`ä¸€ä¸ª`Prop`ï¼š

```
@Prop({ default: "" }) value!: string
```

ç»“æœåœ¨æµ‹è¯•ï¼ˆè¾“å…¥å†…å®¹ï¼‰çš„æ—¶å€™æŠ¥é”™äº†ï¼š

![æµ‹è¯•æŠ¥é”™](assets/img/2020-09-16-22-23-45.png)

ä¸ºå•¥ä¼šæŠ¥é”™å‘¢ï¼Ÿï¼ˆå…·ä½“æ¥è¯´åº”è¯¥æ˜¯è­¦å‘Šï¼‰

![é”™è¯¯åŸå› ](assets/img/2020-09-16-22-27-32.png)

æ‰€ä»¥å¯¹äº`Prop`ï¼Œé‚£å°±ä¸è¦ç”¨`v-model`äº†ï¼Œå¦‚æœæ˜¯`data`ï¼Œé‚£å€’æ˜¯å¯ä»¥ä½¿ç”¨ï¼

æ¶ˆé™¤è­¦å‘Šï¼š

![æ¶ˆé™¤è­¦å‘Š](assets/img/2020-09-16-22-32-09.png)

ä¸ºäº†ç¨³å¦¥èµ·è§ï¼Œæˆ‘ä»¬å¯¹`Prop`åŠ äº†ä¸ª`readonly`ï¼Œä»¥é˜²ä»–äººå¯¹è¯¥`value`å±æ€§åœ¨å­ä½œç”¨åŸŸç›´æ¥èµ‹å€¼ï¼

```
@Prop({ default: "" }) readonly value!: string;
```

å¦‚æœä½ ä¸åŠ çš„è¯ï¼Œé‚£ä¹ˆåªèƒ½è®©æ§åˆ¶å°æç¤ºä½ è¿™å„¿æœ‰é”™è¯¯äº†ï¼Œå¦‚æœåŠ ä¸Šçš„è¯ï¼Œ`tsc` å°±èƒ½ç›´æ¥æç¤ºäº†æœ‰é”™è¯¯äº†ï¼

æˆ‘æµ‹è¯•äº†ä¸€ä¸‹ï¼ŒåŠ äº†`readonly`ï¼Œä½†æ˜¯è¿˜æ˜¯åŸæ¥çš„`v-model`ï¼Œç»“æœ`tsc`å¹¶æ²¡æœ‰çˆ†çº¢ï¼ -> ä¸ºå•¥å‘¢ï¼Ÿ -> å› ä¸º `tsc` æ£€æŸ¥ä¸åˆ° `template` é‡Œè¾¹çš„å†…å®¹ï¼

ä½†ä¸ç®¡æ€æ ·ï¼ŒåŠ ä¸Š`readonly`æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼ -> å› ä¸ºä½ æœ‰å¯èƒ½åœ¨æ–¹æ³•é‡Œè¾¹å‡ºç°å¯¹`value`èµ‹å€¼çš„æƒ…å†µï¼ -> è€Œä¸€æ—¦å‡ºç°äº†ï¼Œå°±ä¼šçˆ†çº¢ï¼

ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/de91a3957b9f110b6c5e0b91b9c98f247a3fae7b)

ğŸ’¡ï¼šå¦‚ä½•å±•ç¤ºæ ‡ç­¾åï¼Ÿ

ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/36c38af51050a39014ccdc038589fb12051b62be)

å†æ¬¡è§£é‡Šä¸€ä¸‹è¿™æ ·çš„ä»£ç ï¼š`tag?: { id: string; name: string } = undefined`

å®ƒè¡¨ç¤º`tag`è¿™ä¸ªå±æ€§æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä½ è¦ç»™`tag`å€¼ï¼Œè€Œä¸”ä½ ä¸å«`?`ï¼Œé‚£ä¹ˆä½ å°±ä¸èƒ½ç»™`undefined`å€¼äº†ï¼

æ€»ä¹‹ï¼Œä½ åŠ äº†`?`å°±ç›¸å½“äºæ˜¯æŠŠ`tag`å½“ä½œæ˜¯`union`ç±»å‹ï¼Œå³ç›¸å½“äºä½ è¿™æ ·`{ id: string; name: string } | undefined ` ç»™ `tag` ç±»å‹ï¼

æ‰€ä»¥è¿™å°±æ˜¯æˆ‘ä»¬å¯ä»¥ç»™`tag`èµ‹å€¼ä¸€ä¸ª`undefined`ä½œä¸ºåˆå§‹å€¼çš„åŸå› ï¼

![ç»™?](assets/img/2020-09-17-00-13-00.png)
















