### âœï¸ Tangxt â³ 2020-08-14 ğŸ·ï¸ Vue é¡¹ç›®æ­å»º

# 04-æ—ºè´¢ Vue é¡¹ç›®æ­å»º

## â˜…è¯¾å‰å‡†å¤‡

è¦å®‰è£…çš„ä¸œè¥¿ï¼š

1. å®‰è£… `Node.js 10`ï¼ˆ10 åŠä»¥ä¸Šçš„åŒæ•°ç‰ˆæœ¬ã€‚å®‰è£…ç›®å½•å¯ä»¥æ”¹ï¼Œä¸€å®šä¸è¦åœ¨è·¯å¾„ä¸­å‡ºç°ä¸­æ–‡å’Œç©ºæ ¼ï¼‰ -> æœ€å¥½å†å®‰è£…ä¸ª`nrm` -> `nrn use taobao`
2. å®‰è£… `@vue/cli@4.1.2`
3. å®‰è£… VSCode æœ€æ–°ç‰ˆ or WebStorm æœ€æ–°ç‰ˆ
4. ç§‘å­¦ä¸Šç½‘ -> èƒ½è®¿é—® Google

ç‰ˆæœ¬æŸ¥çœ‹ï¼š

``` bash
node -v
vue --version
```

![node ç‰ˆæœ¬ vs vue-cli ç‰ˆæœ¬](assets/img/2020-08-15-11-18-30.png)

---

ä¸ºå•¥æ–¹æ–¹æ¨èçš„æ˜¯ `@vue/cli@4.1.2`ï¼Œè€Œä¸æ˜¯ç›®å‰çš„æœ€æ–°ç‰ˆå‘¢ï¼Ÿ

> å› ä¸ºå°±åœ¨æ–¹æ–¹å½•å®Œè¯¾ç¨‹ä¹‹åï¼Œ`@vue/cli` å°±å‡çº§åˆ°äº† 4.2.0 äº†ï¼Œè€Œè¿™ä¸ªç‰ˆæœ¬å¯¹ eslint åšäº†å‡çº§ï¼Œå¯¼è‡´è§†é¢‘é‡Œçš„è¯¾ç¨‹ä»£ç åœ¨ 4.2.0 ç‰ˆæœ¬é‡Œä¼šæŠ¥ä¸€ä¸ª eslint é”™è¯¯ï¼Œè§£å†³è¿™ä¸ªé”™è¯¯éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ eslint é…ç½®ï¼Œæœ‰ç‚¹å½±å“å¼€å‘ä½“éªŒã€‚ -> è¿™å¯¹æ–°æ‰‹ä¸å‹å¥½ï¼Œå½“ç„¶ï¼Œå¯¹äºè€æ‰‹è€Œè¨€ï¼Œè‡ªå·±è§£å†³è¿™ä¸ª bug å°±å¥½äº†ï¼

æ‰€ä»¥æˆ‘ç”¨`@vue/cli 4.4.6`è¿™ä¸ªç‰ˆæœ¬ä¹Ÿæ˜¯å¯ä»¥çš„ï¼ -> å¯ä»¥çœ‹åˆ°ï¼Œ**å·¥å…·å‡çº§äº†ï¼Œä»¥å‰çš„åšæ³•ä¼šå˜å¾—ä¸ä¸€æ ·â€¦â€¦**

> æˆªæ­¢åˆ° 2020-08-15ï¼Œ`@vue/cli`çš„ [æœ€æ–°ç‰ˆæœ¬](https://github.com/vuejs/vue-cli) æ˜¯ `v4.5.3`

## â˜…ç›®æ ‡

1. ç”¨`@vue/cli`åˆ›å»ºé¡¹ç›®
2. ç”¨ VueRouter æ·»åŠ åº•éƒ¨å¯¼èˆª
3. å¼•å…¥ SVG Icon
4. éƒ¨ç½²åˆ° GitHub å’Œç äº‘

## â˜…ä½¿ç”¨ `@vue/cli` åˆ›å»ºé¡¹ç›®

> åœ¨åšè¿™ä¸ªé¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šé‡åˆ°ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„çŸ¥è¯†ï¼Œå¦‚ç¼–è¾‘å™¨çš„ä½¿ç”¨ã€åœ¨ä»€ä¹ˆæƒ…å†µä¸‹è¿›è¡Œä¼˜åŒ–ç­‰ç­‰ -> è¿™äº›ä¸œè¥¿ä¹¦æœ¬ä¸Šå’©æœ‰ï¼Œä¹Ÿæ˜¯ä½ æƒ³ä¸å‡ºæ¥çš„ä¸œè¥¿ -> **åšäº†å°±ä¼šçš„çŸ¥è¯†ï¼Œä¸åšå°±ä¸ä¼šçš„çŸ¥è¯†**

### <mark>1ï¼‰é¡¹ç›®èµ·åï¼Ÿ</mark>

ä¸€èˆ¬æ¥è¯´ï¼Œ**é¡¹ç›®åè·Ÿäº§å“åå¯ä»¥ä¸ä¸€æ ·**ï¼Œå¦‚äº§å“åæ˜¯ã€Œwangcaiï¼ˆæ—ºè´¢ï¼‰ã€ï¼Œé‚£ä¹ˆä½ å¯ä»¥å–ã€Œmore-moneyï¼ˆæ›´å¤šçš„é’±ï¼‰ã€ -> åˆå¹¶è¿™ä¸¤ä¸ªå•è¯ï¼Œå¾—å‡ºæœ€ç»ˆçš„é¡¹ç›®åï¼šã€Œ**morney**ã€

> æ ¹æ®è¿™ä¸ªã€Œmorneyã€é¡¹ç›®åï¼Œä½ å¯ä»¥åœ¨ GitHub æœç´¢æ‰¾åˆ°å…¶ä»–åŒå­¦åšçš„é¡¹ç›®ï¼š[Search Â· morney](https://github.com/search?q=morney&type=)

æ‰¾åˆ°çš„é¡¹ç›®ï¼š

- [yybb717/morney: å°‘å¥³å¿ƒè®°è´¦é¡¹ç›®æºä»£ç ](https://github.com/yybb717/morney)ï¼š<http://yybb717.xyz/morney-website/#/money>
- [qwxying/morney: ã€å°ä¸ƒè®°è´¦ã€‘Vue ç‰ˆ](https://github.com/qwxying/morney)ï¼š<https://qwxying.github.io/morney-website/#/money>
- [minured/morney-source: æ°¢è®°è´¦](https://github.com/minured/morney-source)ï¼š<https://minured.top/morney/#/money>
- [JonieFu/complete-morney: éšå¿ƒè®°è´¦é¢„è§ˆ](https://github.com/JonieFu/complete-morney)ï¼š<https://joniefu.github.io/complete-morney/#/money>
- [Woozyzzz/crumb-morney: ç‚¹æ»´è®°è´¦](https://github.com/Woozyzzz/crumb-morney)ï¼š<https://woozyzzz.github.io/crumb-morney-website/#/money>
- â€¦â€¦

### <mark>2ï¼‰åˆ›å»ºé¡¹ç›®</mark>

> æ–¹æ–¹æ¨èç”¨ `yarn` æ¥åˆ›å»ºé¡¹ç›®ï¼Œå› ä¸ºè¿™æ¯” `npm` ä¼šæ›´å¿«ä¸€ç‚¹ï¼Œä½†æˆ‘ä¹‹å‰ç”¨è¿‡`yarn`äº†ï¼Œåœ¨ç”¨`yarn`å®‰è£…ä¾èµ–åŒ…çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€ä¸ªæˆ‘æ— æ³•è§£å†³çš„ `bug`ï¼Œæ‰€ä»¥æˆ‘å°±æ”¹ç”¨ `npm`äº†ï¼ -> å¦‚æœä½ ç”¨`yarn`ï¼Œé‚£ä¹ˆä½ åƒä¸‡ä¸è¦ç”¨ `npm` æ¥å®‰è£… `yarn`ï¼Œåœ¨ windows ç³»ç»Ÿä¸‹ï¼Œä½ å¯ä»¥ç”¨ `Scoop`æ¥å®‰è£…ï¼

åœ¨ GitHub ä¸Šæ–°å»ºä¸€ä¸ªè¿œç¨‹ä»“åº“ -> ã€Œvue-morneyã€ï¼ˆä¸ç”¨è¦åˆå§‹åŒ–ã€ŒREADME.mdã€ä»€ä¹ˆçš„ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ª**æ²¡æœ‰æäº¤è®°å½•çš„ç©ºä»“åº“**) -> ä¼šå¾—åˆ°ä¸€äº›å‘½ä»¤è¡Œâ€¦â€¦

åœ¨ æœ¬åœ°åˆ›å»ºä¸€ä¸ªã€Œvue-morneyã€ç›®å½• -> `cd vue-morney` -> æŠŠä¹‹å‰å¾—åˆ°çš„é‚£äº›å‘½ä»¤è¡Œåœ¨è¿™ä¸ªç›®å½•æ——ä¸‹è¿è¡Œä¸€ä¸‹ï¼š

![vue create .](assets/img/2020-08-15-14-18-20.png)

``` bash
# vue-cli é»˜è®¤æ˜¯ç”¨ã€Œyarnã€å®‰è£…ä¾èµ–åŒ…çš„ï¼Œæˆ‘æ”¹äº†é»˜è®¤é…ç½®ï¼Œç”¨çš„æ˜¯ã€Œnpmã€ï¼
vue create vue-morney
# or
vue create .
```

> å…³äºè¿™ä¸ªé¡¹ç›®åï¼Œä¹‹åä¼šæœ‰ã€Œreact-morneyã€ã€ã€Œmp-morneyã€ã€ã€Œflutter-morneyã€â€¦â€¦

é…ç½®ï¼š

![é…ç½®](assets/img/2020-08-15-13-34-53.png)

> ä¸ç”¨ã€Œhistoryã€æ¨¡å¼ï¼Œæ˜¯å› ä¸ºéœ€è¦åœ¨åå°é…ç½®ä¸€ä¸‹è¿™ä¸ªè·¯ç”±ï¼Œè€Œæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®æ˜¯ LocalStorage ç‰ˆçš„â€¦â€¦æ‰€ä»¥å°±ä¸éœ€è¦ç”¨ã€Œhistoryã€æ¨¡å¼äº†â€¦â€¦
> 
> ç›®å‰ï¼Œå•å…ƒæµ‹è¯•æµè¡Œçš„æ˜¯ã€ŒJestã€
>
> ä¸è¦æŠŠè¿™ä¸ªé…ç½®å­˜ä¸ºæ¨¡æ¿ï¼Œå› ä¸ºè¿™ä¸ªé…ç½®æ˜¯å¾ˆå…¨çš„â€¦â€¦å½“ç„¶ï¼Œå¦‚æœä½ å­˜ä¸ºæ¨¡æ¿ä¹Ÿæ²¡äº‹ï¼Œä½ ç›´æ¥åœ¨ç½‘ä¸Šæœç´¢å¦‚ä½•æ›´æ”¹ vue-cli çš„é»˜è®¤é…ç½®å°±å¥½äº†ï¼

å¦‚æœé¡¹ç›®åˆ›å»ºè¿‡ç¨‹å¾ˆæ…¢ -> è¯·ä½¿ç”¨æ·˜å®æºå®‰è£…ä¾èµ–åŒ…â€¦â€¦

> ä¸è¦ä½¿ç”¨ `cnpm` -> å› ä¸ºè¿™å·¥å…·ä¸æ€ä¹ˆç»´æŠ¤äº† -> ç”¨ `nrm` åˆ‡æ¢æˆæ·˜å®æºå°±å¥½äº†

å¦‚æœä½ çœ‹åˆ°`error`ï¼Œé‚£å°±æ˜¯å¤±è´¥ -> çœ‹åˆ°`warn`ï¼Œä¸ç”¨ç®¡å®ƒ -> çœ‹åˆ°`success`ï¼Œå°±æ˜¯å®‰è£…æˆåŠŸï¼

æµ‹è¯•é¡¹ç›®æ˜¯å¦å®‰è£…æˆåŠŸï¼ˆä¸€èˆ¬ä¸ç”¨å‘½ä»¤è¡Œç»ˆç«¯è¿è¡Œè¯¥å‘½ä»¤ï¼Œè€Œæ˜¯æ‰“å¼€ç¼–è¾‘å™¨ -> æ‰“å¼€ç»ˆç«¯ -> è¿è¡Œå‘½ä»¤ï¼‰ï¼š

``` bash
npm run serve
```

![npm run serve](assets/img/2020-08-15-13-58-38.png)

![é¡¹ç›®åˆ›å»º ok](assets/img/2020-08-15-14-06-08.png)

`push` åˆ° è¿œç¨‹ä»“åº“â€¦â€¦

---

æ¥ä¸‹æ¥ï¼Œä»‹ç»ä¸€ä¸‹é¡¹ç›®é‡Œè¾¹æ¯ä¸ªç›®å½•æ˜¯å¹²å˜›ç”¨çš„â€¦â€¦

## â˜…ç›®å½•ç»“æ„è¯´æ˜

![é¡¹ç›®ç›®å½•ç»“æ„](assets/img/2020-08-15-19-05-29.png)

`public` ç›®å½•é‡Œè¾¹æ”¾çš„ä¸œè¥¿æ˜¯**ä¸ä¼šå˜çš„**ï¼Œè€Œ `src/assets` ç›®å½•ä¸‹çš„ä¸œè¥¿åˆ™æ˜¯**ä¼šå˜çš„ï¼**

`src`æ˜¯`source`çš„ç¼©å†™ï¼Œæ‰€æœ‰çš„æºä»£ç éƒ½åº”è¯¥åœ¨`src`ç›®å½•é‡Œè¾¹

é™¤äº† htmlã€cssã€jsã€ts ä¹‹å¤–çš„æ‰€æœ‰æºä»£ç éƒ½åº”è¯¥æ”¾åœ¨ `assets`ï¼ˆè¯¥ç›®å½•é‡Œè¾¹å¯æ–°å»ºå…¶å®ƒç›®å½•ï¼‰é‡Œè¾¹ï¼Œå¦‚èƒŒæ™¯å›¾ç‰‡ã€SVG ç­‰ç­‰

`components`é‡Œè¾¹åªæ”¾ç»„ä»¶ï¼Œé™¤äº†ç»„ä»¶ï¼Œå•¥ä¹Ÿä¸æ”¾ï¼ŒåŒç† `router`å°±æ˜¯æ”¾è·¯ç”±çš„ï¼Œ`store`å°±æ˜¯ç”¨æ¥æ”¾ storeï¼ˆé›†ä¸­å¼ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çŠ¶æ€ï¼‰çš„ï¼Œ`views`å°±æ˜¯ç”¨æ¥æ”¾æ˜¯è§†å›¾çš„ï¼

`views` ä¸ `components` çš„åŒºåˆ«ï¼š

ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ˜¯æ¯”è¾ƒé‡è¦çš„é¡µé¢ï¼Œå¦‚é¦–é¡µã€å…³äºé¡µç­‰éƒ½ä¼šæ”¾åœ¨`views`ç›®å½•é‡Œè¾¹ï¼Œå¦‚æœæ˜¯é¡µé¢çš„ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹ˆå°±æ”¾åœ¨ `components`é‡Œè¾¹ï¼ -> ç®€å•æ¥è¯´ï¼Œ`views`å°±æ˜¯**æœ€å¤–å±‚çš„ç»„ä»¶**ï¼Œè€Œ`components`å°±æ˜¯**è¢«åŒ…è£¹çš„å°è§†å›¾ã€å°ç»„ä»¶**â€¦â€¦

`App.vue` -> æ•´ä¸ªåº”ç”¨çš„æœ€å¤–é¢åŒ…è£¹çš„ç»„ä»¶

`main.ts` -> æ¸²æŸ“è¿™ä¸ª`App.vue`ç»„ä»¶çš„

`registerServiceWorker.ts`ã€`shims-tsx.d.ts`ã€`shims-vue.d.ts` -> è¿™ä¸‰ä¸ªç”¨åˆ°å†è¯´

`tests` -> æ”¾æµ‹è¯•æ–‡ä»¶

å‰©ä¸‹çš„éƒ½æ˜¯ä¸€äº›é…ç½®æ–‡ä»¶ -> å…¶ä¸­ `tsconfig.json`ã€`vue.config.js`ï¼ˆåŠ `loader`ä¹‹ç±»çš„ï¼‰å¯èƒ½ä¼šæ”¹ï¼Œè€Œå…¶å®ƒçš„ä¸€èˆ¬åŸºæœ¬ä¸ç”¨æ”¹ï¼

æ€»ä¹‹ï¼Œæˆ‘ä»¬ä¸€èˆ¬åªæ”¹`src`ç›®å½•é‡Œè¾¹çš„ä¸œè¥¿ï¼

## â˜…æ·»åŠ ä»£ç ç‰‡æ®µ snippets

å®‰è£… VSCode æ’ä»¶ï¼š

- Vue VSCode Snippets
- Vetur

è‡ªå·±é…ç½®ä»£ç ç‰‡æ®µï¼š

``` json
{
  "addTS": {
    "prefix": "!ts",
    "body": [
      "<template>",
      "<div class=\"${TM_FILENAME_BASE/(.*)/${1:/downcase}/}\">",
      "",
      "</div>",
      "</template>",
      "",
      "<script lang=\"ts\">",
      "export default {",
      "name: '$2${TM_FILENAME_BASE}'",
      "}",
      "</script>",
      "",
      "<style lang=\"${3:scss}\" scoped>",
      "  .${TM_FILENAME_BASE/(.*)/${1:/downcase}/} {}",
      "</style>",
    ],
    "description": " .vue æ–‡ä»¶åˆå§‹åŒ–"
  }
}
```

æµ‹è¯•æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2020-08-15-19-48-41.png)

## â˜…JS æˆ– TS é‡Œä½¿ç”¨`@`

`@`å°±æ˜¯`/src`çš„åˆ«åï¼ -> ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ -> å› ä¸ºè¿™å°±ä¸ç”¨è®©æˆ‘ä»¬å»æƒ³åˆ°åº•æ˜¯å‡ çº§çš„ä¸Šä¸€çº§ç›®å½•äº†â€¦â€¦ç›´æ¥**ä»ä¸Šåˆ°ä¸‹æ‰¾**ï¼Œè€Œä¸æ˜¯**ä»ä¸‹åˆ°ä¸Šå†åˆ°ä¸‹**â€¦â€¦ -> ç®€å•æ¥è¯´å°±æ˜¯ã€Œ**ä¸ç”¨è‡ªå·±è®¡ç®—ç›¸å¯¹è·¯å¾„äº†**ã€

![æ·»åŠ `@`](assets/img/2020-08-15-19-55-57.png)

## â˜…CSS æˆ– SCSS é‡Œä½¿ç”¨`@`

å¼•å…¥ CSS å§¿åŠ¿ä¸€ï¼š

![å§¿åŠ¿ä¸€](assets/img/2020-08-15-20-05-37.png)

å¼•å…¥ CSS å§¿åŠ¿äºŒï¼š

![å§¿åŠ¿äºŒ](assets/img/2020-08-15-20-09-29.png)

> è¯¥å§¿åŠ¿åœ¨ Webstorm é‡Œä¼šçˆ†çº¢ -> éœ€è¦è‡ªè¡Œé…ç½®ä¸€ä¸‹â€¦â€¦

---

æŠŠåˆšåˆšæµ‹è¯•çš„å†…å®¹éƒ½åˆ äº†ï¼š

![å†…å®¹åˆ é™¤](assets/img/2020-08-15-20-16-31.png)

## â˜…äº†è§£æ›´å¤š

â¹ï¼š[æ˜¯æ—¶å€™æ”¾å¼ƒç”¨ cnpm å‘½ä»¤äº† - CNode æŠ€æœ¯ç¤¾åŒº](https://cnodejs.org/topic/552212ba01b6c9310d8e9959)

â¹ï¼š[åœ¨ VS Code ä½¿ç”¨ Prettier æ’ç‰ˆ Vue ç¨‹å¼ç¢¼ - Paul Tsai's Blog](https://www.paultsai.com/vscode-prettier-vue/)