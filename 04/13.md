### âœï¸ Tangxt â³ 2020-10-05 ğŸ·ï¸ åˆ—è¡¨é¡µ

# 13-åˆ—è¡¨å±•ç¤ºæ€ä¹ˆåš

## â˜…å°è£… Tabsï¼Œä½¿ç”¨ deep è¯­æ³•

![çŸ¥è¯†ç‚¹](assets/img/2020-10-05-17-30-29.png)

1ï¼‰äºŒæ¬¡å°è£…

åœ¨ `Types` ç»„ä»¶çš„åŸºç¡€ä¸Šå†å°è£…ä¸€å±‚ï¼

ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/36ad09922fc5443378bfd7f7c8e27c279ec73732)

ğŸ’¡ï¼šå¦‚ä½•æ›´æ”¹å­ç»„ä»¶çš„æ ·å¼ï¼Ÿ

`/deep/` ä¸ `::v-deep` çš„åŒºåˆ« -> åè€…å¯ä»¥è¢« sass è®¤å‡ºæ¥ï¼Œè€Œå‰è€…åˆ™ä¸èƒ½ï¼

![deep](assets/img/2020-10-05-17-44-30.png)

> å¯ä»¥ä¸ç”¨ `.x`ï¼ç›´æ¥`::v-deep`

![v-deep](assets/img/2020-10-05-18-01-05.png)

> è¿™ä¸ª`v-deep`çš„å­˜åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ç»„ä»¶æ ‡ç­¾æ›´åƒæ˜¯åœ¨ä½¿ç”¨ä¸€ä¸ªåŸç”Ÿæ ‡ç­¾äº† -> åœ¨ä¸€äº›ç»„ä»¶åº“é‡Œè¾¹ï¼Œæˆ‘ä»¬è¦æ”¹æŸä¸ªç»„ä»¶çš„æ ·å¼æ˜¯éœ€è¦é€è¿‡æ·»åŠ `prop`æ¥æ”¹çš„ï¼è€Œç°åœ¨æˆ‘ä»¬åªè¦è¿½åŠ ä¸€ä¸ª`class-prefix`ï¼Œç„¶åå†™ä¸Š CSS æ ·å¼å°±è¡Œäº†ï¼

æˆ‘ä»¬åŠ å‰ç¼€çš„ç›®çš„æ˜¯è®©å­ç»„ä»¶çŸ¥é“æˆ‘ä»¬æ˜¯ç”¨ä»€ä¹ˆç±»å‹çš„æ ·å¼æ¥å¤„ç†å®ƒï¼š

![å‰ç¼€](assets/img/2020-10-06-18-03-17.png)

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2020-10-06-18-06-21.png)

ğŸ’¡ï¼šå¦‚æœå­ç»„ä»¶æœ‰å¤šä¸ª`li`ï¼Œå¦‚ä½•ç²¾å‡†é€‰ä¸­æŸä¸ª`li`ï¼Ÿ

æœ€ä½³å®è·µæ˜¯ä½¿ç”¨ `classPrefix`ï¼ -> å­ç»„ä»¶çš„`template`é‡Œè¾¹æœ‰å¤šä¸ª`li`ï¼Œæˆ‘ä»¬åœ¨`Types`ç»„ä»¶æ ‡ç­¾ä¸Šå†™ä¸€ä¸ª`class-prefix="zzz"`ï¼

![æ ·å¼å‰ç¼€](assets/img/2020-10-05-17-59-32.png)

ç”¨è¡¨é©±åŠ¨å§¿åŠ¿ä¸ºå…ƒç´ æ·»åŠ `class`ï¼š

![è¡¨é©±åŠ¨](assets/img/2020-10-05-17-51-16.png)

> ES6 è¯­æ³• -> `key`æœ‰å˜é‡çš„è¯ï¼Œé‚£å°±ç”¨`[]`

ğŸ’¡ï¼šå†æ¬¡å¼ºè°ƒ `!` & `?` çš„æ„æ€ï¼Ÿ

![ts è¯­æ³•](assets/img/2020-10-05-17-48-09.png)

ğŸ’¡ï¼šå¦‚ä½•å®Œæˆã€ŒæŒ‰å¤©ã€ã€ã€ŒæŒ‰å‘¨ã€ã€ã€ŒæŒ‰æœˆã€ï¼Ÿ

![éœ€æ±‚](assets/img/2020-10-05-18-07-54.png)

éœ€è¦å°è£…ä¸€ä¸ª `Tabs` ç»„ä»¶ï¼ -> å†…å®¹åŸºæœ¬ä¸`Types`ç»„ä»¶ä¸€è‡´ï¼Œåªæ˜¯æœ‰ 3 ä¸ª`tab`ç½¢äº†ï¼ -> éœ€è¦äºŒæ¬¡å°è£…`Types`ï¼ -> æŠŠç»„ä»¶çš„å†…å®¹äº¤ç»™çˆ¶ç»„ä»¶å»æ§åˆ¶ï¼ -> æ€»ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ`Types`å˜ä¸ºæ›´é€šç”¨çš„`Tabs`ï¼

å±æ€§å®šä¹‰ï¼š

![å±æ€§](assets/img/2020-10-05-18-29-44.png)

å˜é‡çš„èµ·åï¼š

![å˜é‡å](assets/img/2020-10-05-18-41-44.png)

æ”¹åæ—¶ï¼Œå¯ä»¥ç”¨ webstorm æä¾›çš„é‡æ„åŠŸèƒ½ï¼ -> å˜é‡åæ”¹å®Œåè¦æµ‹è¯•ä¸€ä¸‹ï¼Œçœ‹çœ‹èƒ½å¦æ­£å¸¸è¿è¡Œï¼

ğŸ’¡ï¼šå†™`v-for`å¿…é¡»åŠ `key`ï¼Œè¿™æ˜¯æ½œè§„åˆ™ï¼

ğŸ’¡ï¼šåŠ `class`çš„ä»£ç å¥½é•¿ï¼Ÿ

![class](assets/img/2020-10-05-18-36-39.png)

class å°è£…å¤„ç†ï¼š

![å°è£…](assets/img/2020-10-05-18-37-53.png)

é™¤äº†å‡½æ•°å§¿åŠ¿ï¼Œä½ ä¹Ÿå¯ä»¥å†™æˆæ˜¯ä¸€ä¸ª`data`çš„å§¿åŠ¿ï¼ -> å½“ç„¶ï¼Œä¼˜å…ˆä½¿ç”¨`methods`å§¿åŠ¿çš„ï¼

2ï¼‰ä¸è¦`Types`ç»„ä»¶äº†

æŠŠ`Tabs.vue`æ”¾åˆ°`Money.vue`é‡Œè¾¹ -> `Types`èƒ½åšçš„ï¼Œ`Tabs`ä¹Ÿèƒ½åšï¼

ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/ad66dad899baddf1e5e9335c2cd15d1f5c903bc5)

ğŸ’¡ï¼šæ¨¡å—åŒ–å¤„ç†`intervalList` & `typeList`

æŠŠä¸€äº›æšä¸¾ä¸œè¥¿æ‰”åˆ°ä¸€ä¸ªç›®å½•é‡Œè¾¹ï¼Œå…¶å®ƒæ¨¡å—æ–‡ä»¶éœ€è¦ç”¨å°±ç›´æ¥å¯¼å…¥å°±å¥½äº†ï¼

![freeze](assets/img/2020-10-06-17-33-17.png)

> æˆ‘ä»¬æ— æ³•å¾€è¿™ä¸ªæ•°ç»„é‡Œè¾¹`push`ä¸œè¥¿ï¼

åŸå…ˆçš„åšæ³•ï¼šè®©æˆ‘ä»¬æ— æ³•æ”¹å˜å€¼ï¼Œä¹Ÿæ— æ³•æ”¹å˜å€¼çš„å†…å®¹

![å€¼ä¸å†…å®¹](assets/img/2020-10-06-17-35-44.png)

ğŸ’¡ï¼šè®¾è®¡ç¨¿ä¸­çš„é«˜åº¦ï¼Ÿ

![é«˜åº¦](assets/img/2020-10-06-17-43-30.png)

> å¯ä»¥åŒæ—¶æœ‰`class`&`:class` -> ä¼šè‡ªåŠ¨åˆå¹¶ï¼Œä½†ä¸èƒ½åŒæ—¶ç”¨`class/:class`ã€`class/:class`

ä¼˜å…ˆçº§å¤„ç†ï¼š

![ä¼˜å…ˆçº§](assets/img/2020-10-06-17-48-34.png)

ä½†è¿™æœ‰é—®é¢˜å‘€ï¼æˆ‘ä»¬æ— æ³•ç¡®å®šè¿™æ˜¯ä¸æ˜¯`li`å…ƒç´ ï¼Œä¸‡ä¸€æ˜¯`div`å‘¢ï¼Ÿ

é‚£å¦‚æœåŠ `!important`å‘¢ï¼Ÿ -> è¿™æ˜¯ä¸‡ä¸å¾—å·²çš„åšæ³•ï¼

å¦ä¸€ç§åšæ³•ï¼Œé™ä½ç»„ä»¶å†…éƒ¨çš„ä¼˜å…ˆçº§ï¼š

![é™ä½ä¼˜å…ˆçº§](assets/img/2020-10-06-17-53-44.png)

> æˆ‘æ²¡æœ‰æƒ³åˆ°`scss`è¿™ç§`&-item`è¯­æ³•çš„ç»“æœå±…ç„¶ç›´æ¥`.tabs-item`äº†ï¼Œè€Œä¸æ˜¯`.tabs > .tabs-item`

è¿™æ˜¯æ–¹æ–¹çš„ç»éªŒä¹‹è°ˆâ€¦â€¦

å¯¹äº†ï¼Œ`::deep`çš„ç¼–è¯‘ç»“æœå±…ç„¶æ˜¯è¿™æ ·çš„ï¼š

![::deep ç¼–è¯‘ç»“æœ](assets/img/2020-10-06-18-10-33.png)

ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/7b8ed3e244710badcfafb192ef01e06670bfa23d)

## â˜…ç”¨ JS é…ç½® height

> æ–¹æ–¹æ¨èç”¨ä¹‹å‰çš„ CSS å§¿åŠ¿ï¼

1ï¼‰è¯•è¯•ç”¨ JS æ CSS

ä»£ç ï¼š[Demo](https://github.com/ppambler/vue-morney/commit/7794b79849c740135ccc3b600bf77ce1b55b43b9)

ç¬¬ä¸€æ­¥ï¼š

``` ts
@Prop({type:String,default:'64'}) height!: string
```

> å¿…é¡»åŠ `!`ï¼Œä¸åŠ çš„è¯ï¼Œé‚£ä¹ˆ`tsc`å°±ä¼šæŠ¥é”™è¯´ã€Œä½ è¦åˆå§‹åŒ–è¿™ä¸ª`height`ã€ -> å¯è¿™ä¸ª`height`æ˜¯å¤–è¾¹ä¼ è¿‡æ¥çš„å‘€ï¼ -> æ‰€ä»¥åˆå§‹åŒ–ä½ å¦¹å•Šï¼

ç¬¬äºŒæ­¥ï¼š

![css](assets/img/2020-10-06-19-01-31.png)

ç¬¬ä¸‰æ­¥ï¼ˆä½¿ç”¨ï¼‰ï¼š

![ä½¿ç”¨](assets/img/2020-10-06-19-03-03.png)

---

æ›´æ”¹å­ç»„ä»¶çš„æ ·å¼ -> æˆ‘ä»¬è¦ä¹ˆä¼ å±æ€§ï¼Œè¦ä¹ˆå†™ CSSï¼ -> æ¨èå†™ CSS

å¯¹äº†ï¼Œ`::deep`å¯ä»¥ä¼˜åŒ–æˆè¿™æ ·ï¼ˆä¸ç”¨å†™ä¸¤æ¬¡`::deep`äº†ï¼‰ï¼š

``` scss
::v-deep {
  .type-tabs-item {
    background: white;
    &.selected {
      background: #c4c4c4;
      &::after {
        display: none;
      }
    }
  }

  .interval-tabs-item {
    height: 48px;
  }
}
```

## â˜…ç”¨åˆ—è¡¨å±•ç¤ºæ•°æ®
