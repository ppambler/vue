| âœï¸ Tangxt | â³ 2020-07-22 | ğŸ·ï¸ æŠ€å·§ |

# 10-Vue çš„å¸¸ç”¨æŠ€å·§

> æ–‡æ¡£ä¸ä¼šè¯´çš„å†…å®¹

## â˜… `v-model` ä¸æ˜¯åŒå‘ç»‘å®š

1ï¼‰React å’Œ Vue çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

ç»å…¸ç­”æ³•ï¼š

> React æ˜¯å•å‘æ•°æ®æµï¼Œè€Œ Vue åˆ™æ˜¯åŒå‘ç»‘å®šçš„

ä¸è¿‡ï¼Œè¿™ä¸ªç­”æ¡ˆæ˜¯é”™çš„ï¼Œä½†æ˜¯ä½ å°±æ˜¯å¯ä»¥è¿™æ ·å›ç­”ï¼ -> å› ä¸ºä½¿ç”¨ React çš„äººï¼Œå¯¹ Vue çš„äº†è§£ï¼Œè‚¯å®šæ˜¯åœç•™åœ¨ä»¥å‰çš„ Vue ï¼Œä»¥å‰çš„ Vue ç¡®å®æ˜¯åŒå‘ç»‘å®šï¼Œä½†æ˜¯ç°åœ¨çš„ Vue æ˜¯å’©æœ‰åŒå‘ç»‘å®šçš„ï¼Œå…¨éƒ¨éƒ½æ˜¯å•å‘çš„

æ€»ä¹‹ï¼Œå»ä¸€ä¸ª React çš„å…¬å¸å°±å‘Šè¯‰ä»–ï¼ŒVue æ˜¯åŒå‘ç»‘å®šçš„ï¼ŒReact æ˜¯å•å‘ç»‘å®šçš„ï¼Œåä¹‹ï¼Œå»ä¸€ä¸ª Vue çš„å…¬å¸ï¼Œå°±å‘Šè¯‰ä»–ã€ŒVue 1 æ˜¯ä»¥åŒå‘ç»‘å®šä¸ºä¸»çš„ï¼Œè€Œ Vue 2 é€æ¸åœ°å°±ä½¿ç”¨å•å‘æ•°æ®æµäº†ï¼Œè€Œ`v-model`æ˜¯è¯­æ³•ç³– ã€ -> å¯¹ä¸åŒçš„å…¬å¸ç»™å‡ºçš„ç­”æ¡ˆæ˜¯ä¸ä¸€æ ·çš„ï¼

2ï¼‰ä¿¡æ¯ç‚¹

1ã€`v-model`ä¸æ˜¯åŒå‘ç»‘å®šï¼Œå®ƒæ˜¯åœ¨éª—ä½ çš„ï¼Œå…¶æœ¬è´¨æ˜¯ä¸ªè¯­æ³•ç³– 

`input` & `#app` çš„å…³ç³»å°±åƒæ˜¯å­ç»„ä»¶ä¸çˆ¶ç»„ä»¶ä¸€æ ·

![v-modelçš„æœ¬è´¨](assets/img/2020-07-22-13-21-11.png)

> åœ¨`#app`è¿™ä¸ªåŒºåŸŸçœ‹åˆ°çš„å˜é‡ã€è¡¨è¾¾å¼å•¥çš„ï¼Œéƒ½æ˜¯`#app`è¿™ä¸ªçˆ¶ç»„ä»¶çš„æ•°æ®å“ˆï¼ -> `input`è¿™ä¸ªå­ç»„ä»¶å†…éƒ¨ä¼šè§¦å‘`input`äº‹ä»¶ï¼Œå¹¶æŠŠç”¨æˆ·è¾“å…¥çš„`value`å¸¦ä¸Šæ¥ç»™çˆ¶ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶ä¼šç›‘å¬åˆ°è¿™ä¸ªäº‹ä»¶ï¼Œæ‰€ä»¥`$event.target.value`çš„å€¼å°±æ˜¯ç”¨æˆ·è¾“å…¥çš„`value`ï¼Œ`msg2 = value`å°±æ˜¯åœ¨æ”¹çˆ¶ç»„ä»¶çš„`msg2`çš„å€¼ï¼Œè¿™ä¸ª`msg2`ä¸€å˜åŒ–ï¼Œå°±ä¼šå“åº”åˆ°`:value="msg2"`

2ã€èƒ½è®©ä½ å‡ºç°`bug`çš„æµ‹è¯•

Vue è®°ä¸ä½å…‰æ ‡çš„ä½ç½®ï¼š

![bug](assets/img/2020-07-22-23-05-30.png)

DOMå˜åŒ–æƒ…å†µï¼š

![view](assets/img/2020-07-22-23-07-33.png)

å¯ä»¥çœ‹åˆ°ï¼Œæ‰€è°“çš„ã€ŒåŒå‘ç»‘å®šã€å…¶å®æ˜¯å•å‘çš„â€¦â€¦å³ ç”¨æˆ·åœ¨é¡µé¢ä¸Šæ”¹DOM -> äº‹ä»¶ -> `msg2 = ç”¨æˆ·è¾“å…¥çš„å€¼` -> DOM æ›´æ–°â€¦â€¦æ³¨æ„è¿™æ˜¯è·¨çˆ¶å­ç»„ä»¶çš„æ›´æ–°ï¼è€Œä¸æ˜¯å­ç»„ä»¶çš„æ›´æ–°ï¼Œç›´æ¥å°±åæ˜ åœ¨å­ç»„ä»¶çš„DOMä¸Šäº†â€¦â€¦å¦‚æœçœŸè¿™æ ·ï¼Œé‚£æ‰æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„ã€ŒåŒå‘ç»‘å®šã€ï¼

> è¯è¯´ï¼Œ`$event.target`æŒ‡çš„æ˜¯ä¸æ˜¯é‚£ä¸ªè§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼Œå¦‚ä¸Šè¾¹çš„`span`å…ƒç´ ï¼ -> `e.currentTarget`å§‹ç»ˆæ˜¯ç›‘å¬äº‹ä»¶è€…ï¼ˆ`xxx.addEventListener()`ï¼‰ï¼Œè€Œ`e.target`æ˜¯äº‹ä»¶çš„çœŸæ­£å‘å‡ºè€…ï¼ˆ**è§¦å‘äº‹ä»¶çš„é‚£ä¸ªå…ƒç´ **ï¼‰

3ï¼‰Vue çš„ã€ŒåŒå‘ç»‘å®šã€ `v-model`

ä» Vue 0.x å¼€å§‹ï¼ŒVue å°±ç”¨ `v-model`æ¥å®ç°ã€ŒåŒå‘ç»‘å®šã€ã€‚

å¦‚ï¼š

```
data: {
  user: { name: 'xxx'}
}
<input v-model="user.name">
```

èƒ½å®ç°ä»¥ä¸‹ä¸¤ä¸ªç»‘å®šï¼š

1. `user.name` çš„å˜åŒ–è‡ªåŠ¨åŒæ­¥åˆ° `input.value`
2. `input.value` çš„å˜åŒ–è‡ªåŠ¨åŒæ­¥åˆ° `user.name`








