| âœï¸ Tangxt | â³ 2020-07-04 | ğŸ·ï¸ å…¥é—¨ |

# Vue èµ·æ‰‹å¼

## â˜…å‰è¨€

* å­¦ Vue å‰ï¼Œä½ å¾—äº†è§£è¿‡ MVC æ‰è¡Œ

## â˜…Vue åœ¨ä¸­å›½å¾ˆç«å—

### â—‡æ¦‚è¿°

- Vue çš„è¯»éŸ³ï¼šé‡åˆ°ä¸“ä¸šçš„å‰ç«¯è¯»ã€Œviewã€ï¼Œåä¹‹ï¼Œé‡åˆ°ä¸ä¸“ä¸šçš„ï¼Œé‚£å°±ã€ŒV-U-Eã€è¿™æ ·ä¸€ä¸ªä¸€ä¸ªå­—æ¯çš„è¯»ï¼
- ä¸ºä»€ä¹ˆå«ã€ŒVueã€ï¼Ÿ -> å› ä¸ºè¿™æ˜¯ã€Œ[view](https://www.dancihu.com/fazhong/v/vue136819.htm)ã€çš„æ³•è¯­ç¿»è¯‘ï¼Œæœ‰ã€Œè§†è§‰ã€çš„æ„æ€â€¦â€¦
- Vue ä¹Ÿä½œã€ŒViewã€ -> æ„ä¸º MVC ä¸­çš„ V -> ä»ä¾§é¢çœ‹å‡ºï¼Œ**MVC ä¸­çš„ã€ŒVã€æ˜¯ Vue çš„é‡ç‚¹**ï¼Œè€Œ M å’Œ C åˆ™è¢«ç®€åŒ–äº†ï¼Œå³æ•°æ®å’Œæ§åˆ¶å±‚æˆ‘ä»¬éƒ½ä¸ç”¨å»å…³å¿ƒäº†ï¼Œç»Ÿç»Ÿäº¤ç»™ Vue æ¥æï¼

### â—‡ç‰ˆæœ¬å†å²

![Vue ç®€å²](assets/img/2020-07-05-01-08-16.png)

- Vue 1.0ï¼šVue è‡ªç§°æ˜¯ `MVVM` æ¡†æ¶
- Vue 2.0ï¼šVue æ˜¯ `MV*` æ¡†æ¶ï¼Œ`*`æ„å‘³ç€ï¼Œä½ å¯ä»¥è¯´æˆæ˜¯ `MVC` æ¡†æ¶ï¼Œä¹Ÿå¯ä»¥è¯´æˆæ˜¯ `MVVM` æ¡†æ¶ï¼Œéšä½ å–œæ¬¢â€¦â€¦æ€»ä¹‹ï¼Œæ­¤æ—¶çš„ Vue çœ‹èµ·æ¥åƒæ˜¯ `MVVM` ï¼Œå®é™…å¹¶ä¸æ˜¯â€¦â€¦
- Vue 3.0ï¼šVue å®Œå…¨ä¸æ˜¯ `MVVM` æ¡†æ¶

> å¾ˆå¤šé«˜çº§çŸ¥è¯†éƒ½æ˜¯æ¨¡ç³Šçš„ï¼Œä½ æ— æ³•æ˜ç¡®å®ƒåˆ°åº•æ˜¯è¿˜æ˜¯ä¸æ˜¯ï¼Œè¶Šé«˜çº§çš„çŸ¥è¯†è¶Šæ˜¯å¦‚æ­¤ -> çœ‹ä¸€ä¸ªäººæ˜¯å¦èªæ˜ï¼Œå°±çœ‹ä»–çš„å¤§è„‘é‡Œè¾¹èƒ½å¦å®¹çº³çŸ›ç›¾çš„çŸ¥è¯†ï¼Œå¦‚æœä½ çš„å¤§è„‘åªèƒ½å®¹çº³è¿™ç§ä¸çŸ›ç›¾çš„çŸ¥è¯†ï¼Œè¯´æ˜ä½ æ˜¯ä¸ªå•çº¯çš„äººï¼Œåä¹‹ï¼Œä½ åˆ™æ˜¯ä¸ªèªæ˜çš„äººâ€¦â€¦

### â—‡Vue ä½œè€…

- ç®€å†
  - å°¤é›¨æºª -> Evan You -> æœ‰ç‚¹åƒã€Œç ´åä¹‹ç‹ã€é‡Œè¾¹çš„ã€Œæ–­æ°´æµå¤§å¸ˆå…„ã€
  - è‰ºæœ¯ä¸è‰ºæœ¯å²ä¸“ä¸š -> è‰ºæœ¯ç¡•å£« -> æ¯•ä¸šååœ¨ã€ŒGoogle Creative Labsã€æ‹…ä»» UI ç›¸å…³å·¥ä½œ -> åæ¥è½¬ä¸ºå…¨èŒ JS å¼€å‘å·¥ç¨‹å¸ˆ
  - ç°ä¸ºç‹¬ç«‹å¼€å‘è€… -> æ¯ä¸ªæœˆæœ‰åå‡ ä¸‡ä»¥ä¸Šçš„èµåŠ©
  - [GitHub ä¸»é¡µ](https://github.com/yyx990803)ã€[ä¸ªäººåŸŸå](https://evanyou.me/)
- ä¸»è¦ä½œå“
  - Vue
  - Vue Router
  - Vuex  
  - @vue/cli

### â—‡å¦‚ä½•åŠ å…¥ Vue

- [Vue Technology LLC æ‹›äººäº†](https://zhuanlan.zhihu.com/p/34846823)
- å·¥èµ„ 25k/æœˆ èµ·ï¼Œä¸Šä¸å°é¡¶ï¼Œçœ‹èƒ½åŠ›
- å¯å‘
  - ä½ äº§ç”Ÿçš„ä»·å€¼è¶Šå¤§ï¼Œä½ å¾—åˆ°çš„é‡‘é’±è¶Šå¤š -> ä½  35 å²äº§ç”Ÿä¸äº†ä»·å€¼ï¼Œè‡ªç„¶è¦æ·˜æ±°ï¼
  - è‹±æ–‡è¦å¥½ -> å‰ç«¯å¤§éƒ¨åˆ†çŸ¥è¯†éƒ½æ˜¯è®²è‹±è¯­çš„äººæå‡ºæ¥çš„

è°åŠ å…¥äº† Vueï¼Ÿ -> è’‹è±ªç¾¤ -> Vue CLI ç»´æŠ¤è€…

### â—‡Vue çƒ­åº¦

[ç™¾åº¦æŒ‡æ•°](http://zhishu.baidu.com/v2/main/index.html#/trend/vue?words=vue,vue.js,react)ï¼š

![ç™¾åº¦æŒ‡æ•°-vue çƒ­åº¦](assets/img/2020-07-06-10-52-27.png)

[Google Trends](https://trends.google.com/trends/explore?date=2014-01-01%202020-07-06&q=vue,react,vue.js,react.js)ï¼š

![è°·æ­Œè¶‹åŠ¿-vue çƒ­åº¦](assets/img/2020-07-06-11-10-52.png)

å°¤é›¨æºªæ¨èçš„ç»Ÿè®¡æ–¹å¼ï¼š

![vue vs react](assets/img/2020-07-06-11-18-51.png)

Qï¼šç”¨ Vue å¤§éƒ¨åˆ†æ˜¯ä¸­å›½äººå—ï¼Ÿ

80%çš„æ¯”ä¾‹æ˜¯ä¸­å›½äºº -> å› ä¸º Vue çš„ä¸­æ–‡æ–‡æ¡£å†™å¾—ç‰›é€¼ï¼ˆä¸­è‹±éƒ½æ˜¯å°¤é›¨æºªå†™çš„ï¼Œåˆ‡æ¢ä¸¤ç§æ€ç»´æ¥å†™ä½œï¼‰ï¼Œè€Œ React çš„ä¸­æ–‡æ–‡æ¡£åˆ™ä¸å¤ªè¡Œï¼ˆç›´æ¥ç¿»è¯‘å¤–å›½äººå†™çš„æ–‡æ¡£ï¼Œå¤–å›½äººçš„å†™ä½œæ€ç»´å’Œå›½å†…ä¸åŒï¼‰ -> æ¯” React æ–‡æ¡£æ›´çƒ‚çš„æ˜¯ Webpack

Qï¼šVue å’Œ React å­¦å“ªä¸ªå¥½ï¼Ÿ

- ç»“æœï¼šéƒ½è¦å­¦ -> ä½ æ— æ³•ç¡®å®šè¿™ä¸ªå…¬å¸æ˜¯è¦ç”¨ Vue å’Œ React çš„
- çŸ¥è¯†ï¼šVue è¶Šæ¥åƒ Reactï¼Œå°¤å…¶æ˜¯ Vue 3
- èƒ½åŠ›ï¼šå¦‚æœä½ å­¦ä¼šäº†å…¶ä¸­ä¸€ä¸ªï¼Œä¸å¯èƒ½ä¸ä¼šå¦ä¸€ä¸ªï¼Œé™¤éä½ çš„åŸºç¡€æ²¡æœ‰æ‰“æ‰å®ï¼Œå¯¼è‡´ Vue å­¦å¾—åŠæ¡¶æ°´ï¼Œå­¦ React ä¹ŸåŠæ¡¶æ°´â€¦â€¦
- é¡ºåºï¼šå…ˆå­¦ Vue åå­¦ Reactï¼Œæˆ–è€… React -> Vue

### â—‡æ–‡æ¡£

[ä¸­æ–‡æ–‡æ¡£](https://cn.vuejs.org/index.html)ã€[è‹±æ–‡æ–‡æ¡£](https://vuejs.org/index.html)

## â˜…Vue è‡ªå­¦çº¿è·¯å›¾

[Vueè‡ªå­¦è·¯çº¿å›¾](http://fangyinghang.com/vue-roadmap/)ï¼š

> æˆ‘ç¨å¾®æˆªäº†ä¸‹å›¾ -> å› ä¸ºè¿™é¡µé¢æ‰“å¼€å¿’æ…¢äº†â€¦â€¦

1ï¼‰æ‰å®çš„HTML/CSS/JSåŸºç¡€

![htmlã€cssã€js](assets/img/2020-07-06-12-27-23.png)

2ï¼‰è®¾è®¡æ¨¡å¼

![è®¾è®¡æ¨¡å¼](assets/img/2020-07-06-12-28-16.png)

> `mixin`æ··å…¥ã€ä¾èµ–æ³¨å…¥ -> ä¸äº†è§£

3ï¼‰Vue API

1ã€ç»„ä»¶

![ç»„ä»¶](assets/img/2020-07-06-12-31-12.png)

> ä¸çŸ¥é“ä¸ºå•¥è¦å«ç»„ä»¶ï¼Ÿ -> éš¾é“ä¸åº”è¯¥å«å±æ€§å—ï¼Ÿ -> éš¾é“è¿™äº›æ˜¯ä»ã€Œç»„åˆå…³ç³»ã€çš„è§’åº¦æ¥æ•´ç†çš„å—ï¼Ÿå³ä¸€ä¸ªç»„ä»¶çš„æ„æˆæ¥è‡ªäºè¿™å‡ ä¸ªå±æ€§çš„ç»„åˆâ€¦â€¦ -> åˆæˆ–è€…è¯´ï¼Œè¿™æ˜¯ç»„ä»¶APIï¼Œæ˜¯ä¸ºåˆ›å»ºä¸€ä¸ªç»„ä»¶è€ŒæœåŠ¡çš„â€¦â€¦

2ã€é’©å­

![é’©å­](assets/img/2020-07-06-12-39-24.png)

3ã€æ¨¡æ¿è¯­æ³•

![æ¨¡æ¿è¯­æ³•](assets/img/2020-07-06-12-39-58.png)

> ä¹Ÿå°±æ˜¯æ‰€è°“çš„æŒ‡ä»¤ -> ä¸ºæ“ä½œè§†å›¾è€ŒæœåŠ¡çš„

4ã€è¿‡æ¸¡åŠ¨ç”»

![è¿‡æ¸¡åŠ¨ç”»](assets/img/2020-07-06-12-41-05.png)

5ã€ä¿®é¥°ç¬¦

> åˆ†ç±»å…³ç³»

äº‹ä»¶ä¿®é¥°ç¬¦ï¼š

![äº‹ä»¶ä¿®é¥°ç¬¦](assets/img/2020-07-06-12-52-01.png)

æŒ‰é”®ä¿®é¥°ç¬¦ã€ç³»ç»Ÿä¿®é¥°ç¬¦ã€`.sync` ä¿®é¥°ç¬¦ï¼š

![ä¸‰å¤§ä¿®é¥°ç¬¦](assets/img/2020-07-06-12-53-57.png)

4ï¼‰Webpack é…ç½®

![Webpack é…ç½®](assets/img/2020-07-06-12-55-08.png)

5ï¼‰Vue å…¨å®¶æ¡¶

1ã€Vuex & Vue Router

![Vuex + Vue Router](assets/img/2020-07-06-12-56-18.png)

2ã€Axios & Jest/Mocha & PWA

![axios-jest-pwa](assets/img/2020-07-06-12-57-52.png)

6ï¼‰UI æ¡†æ¶

![UI æ¡†æ¶](assets/img/2020-07-06-12-58-46.png)

7ï¼‰Vue 3.0

![Vue 3.0](assets/img/2020-07-06-12-59-29.png)

8ï¼‰é«˜çº§

![é«˜çº§](assets/img/2020-07-06-13-00-00.png)

---

é«˜çº§çŸ¥è¯†ï¼šé¢è¯•è®² -> å…¶å®ƒçŸ¥è¯†ï¼Œåœ¨é¡¹ç›®ä¸­è¿­ä»£å­¦ä¹ â€¦â€¦

## â˜…ä½¿ç”¨ `@vue/cli` æ­å»ºé¡¹ç›®

> ç›®æ ‡ä¸€ï¼šæå‡ºä¸€ä¸ªä½¿ç”¨ Vue çš„é¡¹ç›®

æ€ä¹ˆæ­å»ºï¼Ÿ -> CRMå­¦ä¹ æ³• -> [åˆ›å»ºä¸€ä¸ªé¡¹ç›® - Vue CLI](https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create)

1ï¼‰ç¯å¢ƒæ­å»º

1. å®‰è£…ï¼š`yarn global add @vue/cli` -> å¦‚æœä¹‹å‰å…¨å±€å·²å®‰è£…äº† vue cliï¼Œé‚£ä¹ˆæ‰§è¡Œè¿™è¡Œå‘½ä»¤ç›¸å½“äºæ˜¯æ›´æ–° vue cli
2. ç‰ˆæœ¬æ£€æŸ¥ï¼š`vue --version` -> ä¹‹å‰çš„ `3.9.3`ï¼Œç°åœ¨æ›´æ–°åçš„ `@vue/cli 4.4.6`

2ï¼‰åˆ›å»ºä¸€ä¸ª Vue é¡¹ç›®ï¼ˆè¿™æ˜¯å­¦ä¹ æ—¶çš„é…ç½®ï¼Œå·¥ä½œæ—¶è¯·è‡ªè¡Œæ–Ÿé…Œé…ç½®é€‰é¡¹ï¼‰

1. `vue create vue-demo-1` -> æŠ¥é”™äº† -> `vue-template-compiler@2.6.10` & `vue@2.6.11`å†²çªäº† -> æœ€åï¼Œæˆ‘æŠŠ `D:\App\Scoop\persist\yarn\global\node_modules`ä¸‹çš„ç›®å½•å…¨åˆ äº†ï¼Œè¿˜æœ‰æŠŠ`yarn.lock`åˆ äº†ä»¥åŠæŠŠ`package.json`é‡Œè¾¹æ›¾ç»å®‰è£…çš„ä¾èµ–éƒ½ç»™åˆ äº†â€¦â€¦
2. å‹¾é€‰ä¸€äº›ä¸œè¥¿ï¼š
   1. Manually select features
      1. Babel
      2. CSS Pre-processors -> dart-sass
      3. Linter / Formatter
      4. Unit Testing
         1. é»˜è®¤
            1. æäº¤æ—¶ Lint -> å¤šæäº¤ï¼Œä¸ç„¶ç´¯ç§¯ä¸‹æ¥å°±æœ‰å¾ˆå¤šä¸œè¥¿è¦ä½ å»æ”¹â€¦â€¦
               1. Jest
                  1. In dediâ€¦â€¦ -> ä¸åˆ†å¼€æ”¾ä¼šæœ‰å¾ˆå¤šbugâ€¦â€¦
                     1. n -> ä¸è¦æŠŠå½“å‰çš„é…ç½®å½“ä½œæ˜¯æ—¥åçš„é¡¹ç›®é…ç½®çš„é»˜è®¤å€¼ï¼Œå› ä¸ºå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯éœ€è¦æ”¹çš„ï¼Œä¸ç„¶ï¼Œä½ å°±ä¸çŸ¥é“è¯¥æ€ä¹ˆæ”¹äº†

![vueé¡¹ç›®é»˜è®¤é…ç½®](assets/img/2020-07-06-22-04-58.png)

ç„¶è€Œåœ¨å®‰è£…ä¾èµ–çš„æ—¶å€™åˆæŠ¥é”™äº†â€¦â€¦

```
error https://registry.npm.taobao.org/@types/glob/download/@types/glob-7.1.2.tgz?cache=0&s
ync_timestamp=1591314307851&other_urls=https%3A%2F%2Fregistry.npm.taobao.org%2F%40types%2F
glob%2Fdownload%2F%40types%2Fglob-7.1.2.tgz: Integrity check failed for "@types/glob" (com
puted integrity doesn't match our records, got "sha512-MJTUg1kjuLeQCJ+ccE4Vpa6kKVXkPYJ2mOC
QyUuKLcLQsdrMCpBPUi8qVE6+YuaJkozeA9NusTAw3hLr8Xe5EQ== sha1-wZyd+aAocC1nhhI4SmVSQExjbRU=")
info Visit https://yarnpkg.com/en/docs/cli/install for documentation about this command.
 ERROR  command failed: yarn
```

æ‰€ä»¥ã€Œ`yarn check failure error`ã€ï¼Ÿ ï¼ˆ`yarn offline cache`ï¼‰-> æˆ‘è¯•äº†å¾ˆå¤šç§æ–¹æ¡ˆï¼Œéƒ½æ— æ³•è§£å†³ -> æˆ‘æƒ³äº†æƒ³æˆ‘ä¸ºå•¥ä¸€å®šè¦ç”¨ `yarn` å‘¢ï¼Ÿå®ƒçœŸå¾—æ¯” `npm6^` é¦™å—ï¼Ÿ

äºæ˜¯ï¼Œæˆ‘å¼ƒç”¨ `yarn`äº†ï¼Œè½¬è€Œä½¿ç”¨ `npm` â€¦â€¦

ç„¶è€Œåœ¨æ‰§è¡Œ `vue create vue-demo-1` çš„æ—¶å€™ç”¨çš„æ˜¯ `yarn`â€¦â€¦æˆ‘ä¹Ÿæ˜¯é†‰äº†â€¦â€¦

æ—¢ç„¶ç”¨äº†`yarn`ï¼Œé‚£ä¹ˆä¹‹å‰çš„æŠ¥é”™ä¿¡æ¯åˆå‡ºæ¥äº†â€¦â€¦

äºæ˜¯ï¼Œæˆ‘å¸è½½äº† `yarn`ï¼Œçœ‹çœ‹ `vue create xxx` ä¼šä¸ä¼šç”¨ `npm` æ¥å®‰è£…ä¾èµ–ï¼Ÿ

ç»“æœï¼ŒæŠ¥äº†æ²¡æœ‰æ‰¾åˆ°`yarn`çš„é”™è¯¯ï¼







---

Qï¼š`yarn install` è¶…æ—¶ï¼Ÿ

``` bash
yarn config set network-timeout 180000
```


â¹ï¼š[æˆ‘ç»ˆäºæ‰¾åˆ° CI fail çš„åŸå› äº†ï¼](https://www.eliseos.org/en/water/post/172)

## â˜… `vue.js` å’Œ `vue.runtime.js` çš„ä½¿ç”¨

## â˜…Vue å•æ–‡ä»¶ç»„ä»¶

## â˜…SEO åŸºæœ¬åŸç†

## â˜…è¾¾åˆ°ä»€ä¹ˆæ°´å¹³å¯ä»¥å†™å‡º Vue

## â˜…æ€»ç»“ã€å‘½åè§„èŒƒ

## â˜…æµ‹è¯•

### â—‡Vue å®‰è£…
